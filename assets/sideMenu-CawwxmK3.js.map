{"version":3,"file":"sideMenu-CawwxmK3.js","sources":["../../src/js/components/sideMenu.js"],"sourcesContent":["import { routes } from \"./router.js\";\n\n// Управление боковым меню\nexport function initSideMenu() {\n  // Определение текущей страницы\n  const currentPath = window.location.pathname;\n  const sideMenuLinks = document.querySelectorAll(\".side-menu__link\");\n  const mainContent = document.querySelector(\"main\");\n\n  // Добавление класса active для текущей страницы и обработчиков событий\n  sideMenuLinks.forEach((link) => {\n    if (link.getAttribute(\"href\") === currentPath) {\n      link.classList.add(\"active\");\n    }\n\n    // Удаляем старые обработчики перед добавлением новых\n    link.removeEventListener(\"click\", handleSideMenuClick);\n    // Добавляем обработчик клика для каждой ссылки\n    link.addEventListener(\"click\", handleSideMenuClick);\n  });\n\n  // Добавление класса для контента\n  if (mainContent) {\n    mainContent.classList.add(\"with-side-menu\");\n    // Настраиваем поведение для мобильных устройств\n    setupMobileMenu(mainContent);\n  }\n}\n\n// Показ/скрытие меню на мобильных устройствах\nfunction setupMobileMenu(mainContent) {\n  const sideMenu = document.querySelector(\".side-menu\");\n  if (sideMenu) {\n    const mediaQuery = window.matchMedia(\"(max-width: 992px)\");\n\n    function handleScreenChange(e) {\n      if (e.matches) {\n        // Мобильная версия\n        mainContent.classList.remove(\"with-side-menu\");\n      } else {\n        // Десктопная версия\n        mainContent.classList.add(\"with-side-menu\");\n      }\n    }\n\n    mediaQuery.addListener(handleScreenChange);\n    handleScreenChange(mediaQuery);\n  }\n}\n\n// Обработчик клика по ссылкам в боковом меню\nfunction handleSideMenuClick(e) {\n  e.preventDefault();\n  const href = this.getAttribute(\"href\");\n  const pageContent = document.querySelector(\".page-content\");\n\n  // Обновляем URL без перезагрузки страницы\n  window.history.pushState({}, \"\", href);\n\n  // Удаляем класс active со всех ссылок\n  document.querySelectorAll(\".side-menu__link\").forEach((link) => {\n    link.classList.remove(\"active\");\n  });\n\n  // Добавляем класс active текущей ссылке\n  this.classList.add(\"active\");\n\n  // Загружаем новый контент\n  if (routes[href]) {\n    fetch(routes[href])\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.text();\n      })\n      .then((content) => {\n        if (pageContent) {\n          pageContent.innerHTML = content;\n        }\n      })\n      .catch((error) => {\n        console.error(\"Ошибка загрузки контента:\", error);\n        if (pageContent) {\n          pageContent.innerHTML = \"<h1>Ошибка загрузки страницы</h1>\";\n        }\n      });\n  } else {\n    console.error(\"Маршрут не найден:\", href);\n    if (pageContent) {\n      pageContent.innerHTML = \"<h1>Страница не найдена</h1>\";\n    }\n  }\n}\n"],"names":["initSideMenu","currentPath","sideMenuLinks","mainContent","link","handleSideMenuClick","setupMobileMenu","handleScreenChange","e","mediaQuery","href","pageContent","routes","response","content","error"],"mappings":"6DAGO,SAASA,GAAe,CAE7B,MAAMC,EAAc,OAAO,SAAS,SAC9BC,EAAgB,SAAS,iBAAiB,kBAAkB,EAC5DC,EAAc,SAAS,cAAc,MAAM,EAGjDD,EAAc,QAASE,GAAS,CAC1BA,EAAK,aAAa,MAAM,IAAMH,GAChCG,EAAK,UAAU,IAAI,QAAQ,EAI7BA,EAAK,oBAAoB,QAASC,CAAmB,EAErDD,EAAK,iBAAiB,QAASC,CAAmB,CACtD,CAAG,EAGGF,IACFA,EAAY,UAAU,IAAI,gBAAgB,EAE1CG,EAAgBH,CAAW,EAE/B,CAGA,SAASG,EAAgBH,EAAa,CAEpC,GADiB,SAAS,cAAc,YAAY,EACtC,CAGZ,IAASI,EAAT,SAA4BC,EAAG,CACzBA,EAAE,QAEJL,EAAY,UAAU,OAAO,gBAAgB,EAG7CA,EAAY,UAAU,IAAI,gBAAgB,CAElD,EAVI,MAAMM,EAAa,OAAO,WAAW,oBAAoB,EAYzDA,EAAW,YAAYF,CAAkB,EACzCA,EAAmBE,CAAU,CACjC,CACA,CAGA,SAASJ,EAAoBG,EAAG,CAC9BA,EAAE,eAAc,EAChB,MAAME,EAAO,KAAK,aAAa,MAAM,EAC/BC,EAAc,SAAS,cAAc,eAAe,EAG1D,OAAO,QAAQ,UAAU,CAAA,EAAI,GAAID,CAAI,EAGrC,SAAS,iBAAiB,kBAAkB,EAAE,QAASN,GAAS,CAC9DA,EAAK,UAAU,OAAO,QAAQ,CAClC,CAAG,EAGD,KAAK,UAAU,IAAI,QAAQ,EAGvBQ,EAAOF,CAAI,EACb,MAAME,EAAOF,CAAI,CAAC,EACf,KAAMG,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,KAAI,CAC5B,CAAO,EACA,KAAMC,GAAY,CACbH,IACFA,EAAY,UAAYG,EAElC,CAAO,EACA,MAAOC,GAAU,CAChB,QAAQ,MAAM,4BAA6BA,CAAK,EAC5CJ,IACFA,EAAY,UAAY,oCAElC,CAAO,GAEH,QAAQ,MAAM,qBAAsBD,CAAI,EACpCC,IACFA,EAAY,UAAY,gCAG9B"}