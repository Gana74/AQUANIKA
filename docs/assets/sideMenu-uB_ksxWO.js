const y="modulepreload",b=function(e){return"/AQUANIKA/"+e},p={},w=function(i,t,s){let l=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));l=Promise.allSettled(t.map(o=>{if(o=b(o),o in p)return;p[o]=!0;const h=o.endsWith(".css"),A=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${A}`))return;const c=document.createElement("link");if(c.rel=h?"stylesheet":y,h||(c.as="script"),c.crossOrigin="",c.href=o,r&&c.setAttribute("nonce",r),document.head.appendChild(c),h)return new Promise((k,q)=>{c.addEventListener("load",k),c.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(n){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n}return l.then(n=>{for(const r of n||[])r.status==="rejected"&&d(r.reason);return i().catch(d)})},a=window.location.hostname.includes("github.io")||window.location.hostname==="localhost"?"/AQUANIKA":"",S=window.location.hostname.includes("github.io"),u={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/price":"/pages/price.html","/promotions":"/pages/promotions.html","/contacts":"/pages/contacts.html","/services/spa":"/pages/spa-and-massage.html","/services/aquanika":"/pages/aquanika-massage.html","/services/massage":"/pages/massage.html","/services/wrapping":"/pages/wrapping.html","/services/epilation":"/pages/epilation.html","/services/epilation/laser":"/pages/laser-epilation.html","/services/epilation/sugaring":"/pages/sugaring.html","/services/brows":"/pages/brows-and-lashes.html","/services/brows/architecture":"/pages/brows-architecture.html","/services/brows/extensions":"/pages/brows-extensions.html","/services/nails":"/pages/manicure-pedicure.html","/services/nails/manicure":"/pages/manicure.html","/services/nails/pedicure":"/pages/pedicure.html","/services/nails/extensions":"/pages/nails-extensions.html","/services/cosmetology":"/pages/cosmetology.html","/services/cosmetology/face-care":"/pages/face-care.html","/services/cosmetology/injections":"/pages/injections.html","/services/cosmetology/tattoo-removal":"/pages/tattoo-removal.html","/services/hairdressing":"/pages/hairdressing.html","/services/hairdressing/haircuts":"/pages/haircuts.html","/services/hairdressing/coloring":"/pages/hair-coloring.html","/services/hairdressing/styling":"/pages/hair-styling.html","/services/makeup":"/pages/makeup.html","/services/men":"/pages/men-services.html","/services/men/haircut":"/pages/men-haircut.html","/services/men/epilation":"/pages/men-epilation.html","/services/men/manicure":"/pages/men-manicure.html","/services/price":"/pages/price.html"},P=["/about","/team","/reviews","/vacancies","/gallery"],M={"/":"Aquanika – салон красоты премиум-класса","/about":"О нас – Aquanika","/team":"Наша команда – Aquanika","/reviews":"Отзывы – Aquanika","/vacancies":"Вакансии – Aquanika","/gallery":"Галерея – Aquanika","/prices":"Цены – Aquanika","/promotions":"Акции – Aquanika","/contacts":"Контакты – Aquanika","/services/spa":"SPA и массаж – Aquanika","/services/aquanika":"Подводно-вакуумный массаж 'Акваника' – Aquanika","/services/massage":"Массаж – Aquanika","/services/wrapping":"Обертывания – Aquanika","/services/epilation":"Эпиляция – Aquanika","/services/epilation/laser":"Лазерная эпиляция – Aquanika","/services/epilation/sugaring":"Шугаринг – Aquanika","/services/brows":"Брови и ресницы – Aquanika","/services/brows/architecture":"Брови — Архитектура – Aquanika","/services/brows/extensions":"Ресницы — Наращивание – Aquanika","/services/nails":"Ногтевой сервис – Aquanika","/services/nails/manicure":"Маникюр – Aquanika","/services/nails/pedicure":"Педикюр – Aquanika","/services/nails/extensions":"Наращивание ногтей – Aquanika","/services/cosmetology":"Косметология – Aquanika","/services/cosmetology/face-care":"Косметология — Уход за лицом – Aquanika","/services/cosmetology/injections":"Косметология — Инъекции – Aquanika","/services/cosmetology/tattoo-removal":"Косметология — Выведение татуажа – Aquanika","/services/hairdressing":"Парикмахерские услуги – Aquanika","/services/hairdressing/haircuts":"Стрижки – Aquanika","/services/hairdressing/coloring":"Окрашивание – Aquanika","/services/hairdressing/styling":"Укладки – Aquanika","/services/makeup":"Макияж – Aquanika","/services/men":"Услуги для мужчин – Aquanika","/services/men/haircut":"Для мужчин — Стрижка – Aquanika","/services/men/epilation":"Для мужчин — Эпиляция – Aquanika","/services/men/manicure":"Для мужчин — Маникюр – Aquanika","/services/price":"Прайс-лист"};async function v(e){let i=e;e.startsWith("/")&&(i=`${a}${e}`);const t=await fetch(i);if(!t.ok)throw new Error(`HTTP ${t.status} – ${i}`);return t.text()}function L(e){try{const t=new DOMParser().parseFromString(e,"text/html"),s=t.querySelector("main");if(s)return s.innerHTML;if(t.body)return t.body.innerHTML}catch(i){console.warn("HTML parse failed, using raw content",i)}return e}function E(){let e=window.location.pathname;return a&&e.startsWith(a)&&(e=e.slice(a.length)),e||"/"}async function _(e){const i=u[e]||u["/"],t=P.includes(e);document.title=M[e]||"Aquanika";try{const s=await v(i),l=L(s);if(t){const d=await v("/components/partials/side-menu.html");document.querySelector("main").innerHTML=`
        <div class="page-with-sidebar container">
          ${d}
          <div class="page-content">${l}</div>
        </div>`;try{const n=await w(()=>Promise.resolve().then(()=>H),void 0);n.initSideMenu?n.initSideMenu():n.default&&n.default.initSideMenu&&n.default.initSideMenu()}catch(n){console.warn("sideMenu.js not available:",n)}}else document.querySelector("main").innerHTML=l;x()}catch(s){console.error("Ошибка загрузки страницы:",s),e!=="/"&&m("/")}}function m(e){const i=e.startsWith("/")?e:"/"+e,t=a+i;window.history.pushState({},"",t),g()}window.navigateTo=m;function g(){_(E())}function T(e){const i=e.target.closest("a");if(!i)return;const t=new URL(i.href);t.origin!==window.location.origin||i.closest(".side-menu")||(e.preventDefault(),m(t.pathname.replace(a,"")||"/"))}function C(){if(S){const t=sessionStorage.getItem("redirectPath");if(t&&(console.log("GitHub Pages редирект:",t),sessionStorage.removeItem("redirectPath"),u[t]))return m(t),!0}const e=window.location.pathname;let i=e;return a&&e.startsWith(a)&&(i=e.slice(a.length)),i!=="/"&&!i.endsWith(".html")&&u[i]?(console.log("Прямой переход по ссылке:",i),m(i),!0):!1}function x(){typeof window.initCarousels=="function"&&window.initCarousels(),typeof window.initForms=="function"&&window.initForms(),typeof window.initVideoModal=="function"&&window.initVideoModal();try{const e=document.getElementById("homePromotions");e&&!e.dataset.inited&&w(()=>import("./carousel-B1iX4gyj.js"),[]).then(i=>{const t=i.initCarousel||i.default&&i.default.initCarousel;t&&(t(e),e.dataset.inited="true")})}catch(e){console.warn("Carousel init failed",e)}}function I(){C()||(document.addEventListener("click",T),window.addEventListener("popstate",g),g())}function $(){const e=window.location.pathname.replace(a,"")||"/",i=document.querySelectorAll(".side-menu__link"),t=document.querySelector("main");i.forEach(s=>{s.getAttribute("href")===e&&s.classList.add("active"),s.removeEventListener("click",f),s.addEventListener("click",f)}),t&&(t.classList.add("with-side-menu"),R(t))}function R(e){if(document.querySelector(".side-menu")){let s=function(l){l.matches?e.classList.remove("with-side-menu"):e.classList.add("with-side-menu")};const t=window.matchMedia("(max-width: 992px)");t.addListener(s),s(t)}}function f(e){e.preventDefault();const i=this.getAttribute("href"),t=document.querySelector(".page-content");window.history.pushState({},"",i),document.querySelectorAll(".side-menu__link").forEach(s=>{s.classList.remove("active")}),this.classList.add("active"),u[i]?typeof window.navigateTo=="function"?window.navigateTo(i):window.location.href=`${a}${i}`:(console.error("Маршрут не найден:",i),t&&(t.innerHTML="<h1>Страница не найдена</h1>"))}const H=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:$},Symbol.toStringTag,{value:"Module"}));export{a as b,I as i};
//# sourceMappingURL=sideMenu-uB_ksxWO.js.map
