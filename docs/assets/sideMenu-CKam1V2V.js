const b="modulepreload",L=function(t){return"/AQUANIKA/"+t},w={},k=function(i,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(e.map(o=>{if(o=L(o),o in w)return;w[o]=!0;const m=o.endsWith(".css"),h=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":b,m||(c.as="script"),c.crossOrigin="",c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),m)return new Promise((d,g)=>{c.addEventListener("load",d),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function l(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&l(a.reason);return i().catch(l)})},u=window.location.hostname.includes("github.io")||window.location.hostname==="localhost"?"/AQUANIKA":"",E=window.location.hostname.includes("github.io"),f={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/price":"/pages/price.html","/promotions":"/pages/promotions.html","/contacts":"/pages/contacts.html","/services/spa":"/pages/spa-and-massage.html","/services/aquanika":"/pages/aquanika-massage.html","/services/massage":"/pages/massage.html","/services/wrapping":"/pages/wrapping.html","/services/epilation":"/pages/epilation.html","/services/epilation/laser":"/pages/laser-epilation.html","/services/epilation/sugaring":"/pages/sugaring.html","/services/brows":"/pages/brows-and-lashes.html","/services/brows/architecture":"/pages/brows-architecture.html","/services/brows/extensions":"/pages/brows-extensions.html","/services/nails":"/pages/manicure-pedicure.html","/services/nails/manicure":"/pages/manicure.html","/services/nails/pedicure":"/pages/pedicure.html","/services/nails/extensions":"/pages/nails-extensions.html","/services/cosmetology":"/pages/cosmetology.html","/services/cosmetology/face-care":"/pages/face-care.html","/services/cosmetology/injections":"/pages/injections.html","/services/cosmetology/tattoo-removal":"/pages/tattoo-removal.html","/services/hairdressing":"/pages/hairdressing.html","/services/hairdressing/haircuts":"/pages/haircuts.html","/services/hairdressing/coloring":"/pages/hair-coloring.html","/services/hairdressing/styling":"/pages/hair-styling.html","/services/makeup":"/pages/makeup.html","/services/men":"/pages/men-services.html","/services/men/haircut":"/pages/men-haircut.html","/services/men/epilation":"/pages/men-epilation.html","/services/men/manicure":"/pages/men-manicure.html","/services/price":"/pages/price.html"},P=["/about","/team","/reviews","/vacancies","/gallery"],_={"/":"Aquanika – салон красоты премиум-класса","/about":"О нас – Aquanika","/team":"Наша команда – Aquanika","/reviews":"Отзывы – Aquanika","/vacancies":"Вакансии – Aquanika","/gallery":"Галерея – Aquanika","/prices":"Цены – Aquanika","/promotions":"Акции – Aquanika","/contacts":"Контакты – Aquanika","/services/spa":"SPA и массаж – Aquanika","/services/aquanika":"Подводно-вакуумный массаж 'Акваника' – Aquanika","/services/massage":"Массаж – Aquanika","/services/wrapping":"Обертывания – Aquanika","/services/epilation":"Эпиляция – Aquanika","/services/epilation/laser":"Лазерная эпиляция – Aquanika","/services/epilation/sugaring":"Шугаринг – Aquanika","/services/brows":"Брови и ресницы – Aquanika","/services/brows/architecture":"Брови — Архитектура – Aquanika","/services/brows/extensions":"Ресницы — Наращивание – Aquanika","/services/nails":"Ногтевой сервис – Aquanika","/services/nails/manicure":"Маникюр – Aquanika","/services/nails/pedicure":"Педикюр – Aquanika","/services/nails/extensions":"Наращивание ногтей – Aquanika","/services/cosmetology":"Косметология – Aquanika","/services/cosmetology/face-care":"Косметология — Уход за лицом – Aquanika","/services/cosmetology/injections":"Косметология — Инъекции – Aquanika","/services/cosmetology/tattoo-removal":"Косметология — Выведение татуажа – Aquanika","/services/hairdressing":"Парикмахерские услуги – Aquanika","/services/hairdressing/haircuts":"Стрижки – Aquanika","/services/hairdressing/coloring":"Окрашивание – Aquanika","/services/hairdressing/styling":"Укладки – Aquanika","/services/makeup":"Макияж – Aquanika","/services/men":"Услуги для мужчин – Aquanika","/services/men/haircut":"Для мужчин — Стрижка – Aquanika","/services/men/epilation":"Для мужчин — Эпиляция – Aquanika","/services/men/manicure":"Для мужчин — Маникюр – Aquanika","/services/price":"Прайс-лист"};async function y(t){let i=t;t.startsWith("/")&&(i=`${u}${t}`);const e=await fetch(i);if(!e.ok)throw new Error(`HTTP ${e.status} – ${i}`);return e.text()}function M(t){try{const e=new DOMParser().parseFromString(t,"text/html"),n=e.querySelector("main");if(n)return n.innerHTML;if(e.body)return e.body.innerHTML}catch(i){console.warn("HTML parse failed, using raw content",i)}return t}function x(){let t=window.location.pathname;return u&&t.startsWith(u)&&(t=t.slice(u.length)),t||"/"}async function C(t){const i=f[t]||f["/"],e=P.includes(t);document.title=_[t]||"Aquanika";try{const n=await y(i),r=M(n);if(e){const s=await y("/components/partials/side-menu.html");document.querySelector("main").innerHTML=`
        <div class="page-with-sidebar container">
          ${s}
          <div class="page-content">${r}</div>
        </div>`;try{const a=await k(()=>Promise.resolve().then(()=>O),void 0);a.initSideMenu?a.initSideMenu():a.default&&a.default.initSideMenu&&a.default.initSideMenu()}catch(a){console.warn("sideMenu.js not available:",a)}}else document.querySelector("main").innerHTML=r;$();const{hash:l}=window.location;if(l){const s=()=>{const a=l.slice(1),o=document.getElementById(a)||document.querySelector(l);return o?(o.scrollIntoView({behavior:"smooth",block:"start"}),!0):!1};s()||requestAnimationFrame(()=>{s()||setTimeout(s,50)})}else window.scrollTo(0,0)}catch(n){console.error("Ошибка загрузки страницы:",n),t!=="/"&&p("/")}}function p(t){const i=t.startsWith("/")?t:"/"+t,e=i.indexOf("#"),n=e>=0?i.slice(0,e):i,r=e>=0?i.slice(e):"",l=u+n+r;window.history.pushState({},"",l),v()}window.navigateTo=p;function v(){C(x())}function T(t){const i=t.target.closest("a");if(!i)return;const e=new URL(i.href);if(e.origin!==window.location.origin||i.closest(".side-menu"))return;const n=window.location.pathname,r=e.pathname;if(i.hash&&r===n){t.preventDefault();const s=i.hash.slice(1),a=document.getElementById(s)||document.querySelector(i.hash);a?a.scrollIntoView({behavior:"smooth",block:"start"}):window.location.hash=i.hash;return}t.preventDefault();const l=r.replace(u,"")||"/";p(l+(e.hash||""))}function I(){if(E){const e=sessionStorage.getItem("redirectPath");if(e&&(console.log("GitHub Pages редирект:",e),sessionStorage.removeItem("redirectPath"),f[e]))return p(e),!0}const t=window.location.pathname;let i=t;return u&&t.startsWith(u)&&(i=t.slice(u.length)),i!=="/"&&!i.endsWith(".html")&&f[i]?(console.log("Прямой переход по ссылке:",i),p(i),!0):!1}function $(){typeof window.initCarousels=="function"&&window.initCarousels(),typeof window.initForms=="function"&&window.initForms(),typeof window.initVideoModal=="function"&&window.initVideoModal();try{(()=>{const i=document.querySelectorAll(".promo-carousel");i.length&&k(()=>import("./carousel-Dfpd5XhE.js"),[]).then(e=>{const n=e.initCarousel||e.default&&e.default.initCarousel;n&&i.forEach(r=>{r.dataset.inited||(n(r),r.dataset.inited="true")})})})()}catch(t){console.warn("Carousel init failed",t)}try{const t=document.getElementById("galleryMasonry");if(t){const i=document.querySelectorAll(".gallery-filter .filter-button");i.forEach(n=>{n.addEventListener("click",()=>{i.forEach(s=>s.classList.remove("active")),n.classList.add("active");const r=n.getAttribute("data-filter");t.querySelectorAll(".gallery-item").forEach(s=>{const a=s.getAttribute("data-category"),o=r==="all"||a===r;s.style.display=o?"":"none"})})});const e=document.getElementById("galleryModal");if(e){let h=function(c){const d=m();if(!d.length)return;o=(c+d.length)%d.length;const g=d[o].querySelector("img");n.src=g.src,n.alt=g.alt||"",r.textContent=g.alt||"",e.classList.add("is-open")};const n=e.querySelector(".gallery-modal__image"),r=e.querySelector(".gallery-modal__caption"),l=e.querySelector(".gallery-modal__close"),s=e.querySelector(".gallery-modal__prev"),a=e.querySelector(".gallery-modal__next");let o=-1;const m=()=>Array.from(t.querySelectorAll(".gallery-item")).filter(c=>c.style.display!=="none");t.addEventListener("click",c=>{const d=c.target.closest(".gallery-item img");if(!d)return;const g=m(),q=d.closest(".gallery-item"),S=g.indexOf(q);h(S)}),l&&l.addEventListener("click",()=>e.classList.remove("is-open")),e.addEventListener("click",c=>{c.target===e&&e.classList.remove("is-open")}),s&&s.addEventListener("click",()=>h(o-1)),a&&a.addEventListener("click",()=>h(o+1)),window.addEventListener("keydown",c=>{e.classList.contains("is-open")&&(c.key==="Escape"&&e.classList.remove("is-open"),c.key==="ArrowLeft"&&h(o-1),c.key==="ArrowRight"&&h(o+1))})}}}catch(t){console.warn("Gallery init failed",t)}}function j(){I()||(document.addEventListener("click",T),window.addEventListener("popstate",v),v())}function R(){const t=window.location.pathname.replace(u,"")||"/",i=document.querySelectorAll(".side-menu__link"),e=document.querySelector("main");i.forEach(n=>{n.getAttribute("href")===t&&n.classList.add("active"),n.removeEventListener("click",A),n.addEventListener("click",A)}),e&&(e.classList.add("with-side-menu"),H(e))}function H(t){if(document.querySelector(".side-menu")){let n=function(r){r.matches?t.classList.remove("with-side-menu"):t.classList.add("with-side-menu")};const e=window.matchMedia("(max-width: 992px)");e.addListener(n),n(e)}}function A(t){t.preventDefault();const i=this.getAttribute("href"),e=document.querySelector(".page-content");window.history.pushState({},"",i),document.querySelectorAll(".side-menu__link").forEach(n=>{n.classList.remove("active")}),this.classList.add("active"),f[i]?typeof window.navigateTo=="function"?window.navigateTo(i):window.location.href=`${u}${i}`:(console.error("Маршрут не найден:",i),e&&(e.innerHTML="<h1>Страница не найдена</h1>"))}const O=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:R},Symbol.toStringTag,{value:"Module"}));export{u as b,j as i};
//# sourceMappingURL=sideMenu-CKam1V2V.js.map
