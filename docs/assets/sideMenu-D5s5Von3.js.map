{"version":3,"mappings":"k/BAIaA,EAAW,YAGXC,EAAS,CACpB,IAAK,mBACL,SAAU,oBACV,QAAS,mBACT,WAAY,sBACZ,aAAc,wBACd,WAAY,sBACZ,UAAW,qBACX,cAAe,yBACf,YAAa,uBAEb,gBAAiB,8BACjB,kBAAmB,8BACnB,kBAAmB,+BACnB,kBAAmB,gCACnB,wBAAyB,0BACzB,yBAA0B,2BAC1B,mBAAoB,qBACpB,gBAAiB,0BACnB,EAGMC,EAAoB,CACxB,SACA,QACA,WACA,aACA,UACF,EAIA,eAAeC,EAAcC,EAAM,CACjC,MAAMC,EAAMD,EAAK,WAAW,GAAG,EAC3B,GAAGJ,CAAQ,GAAGI,CAAI,GAClB,GAAGJ,CAAQ,IAAII,CAAI,GACjBE,EAAM,MAAM,MAAMD,CAAG,EAC3B,GAAI,CAACC,EAAI,GAAI,MAAM,IAAI,MAAM,QAAQA,EAAI,MAAM,MAAMD,CAAG,EAAE,EAC1D,OAAOC,EAAI,MACb,CAGA,MAAMC,EAAa,CACjB,IAAK,0CACL,SAAU,mBACV,QAAS,0BACT,WAAY,oBACZ,aAAc,sBACd,WAAY,qBACZ,UAAW,kBACX,cAAe,mBACf,YAAa,sBACb,gBAAiB,0BACjB,kBAAmB,+BACnB,kBAAmB,6BACnB,kBAAmB,+BACnB,wBAAyB,0BACzB,yBAA0B,mCAC1B,mBAAoB,oBACpB,gBAAiB,8BACnB,EAIA,SAASC,GAAW,CAClB,OAAO,OAAO,SAAS,SAAS,QAAQR,EAAU,EAAE,GAAK,GAC3D,CAGA,eAAeS,EAASC,EAAO,CAC7B,MAAMC,EAAWV,EAAOS,CAAK,GAAKT,EAAO,GAAG,EACtCW,EAAeV,EAAkB,SAASQ,CAAK,EAErD,SAAS,MAAQH,EAAWG,CAAK,GAAK,WAEtC,MAAMG,EAAU,MAAMV,EAAcQ,CAAQ,EAE5C,GAAIC,EAAc,CAChB,MAAME,EAAW,MAAMX,EAAc,qCAAqC,EAC1E,SAAS,cAAc,MAAM,EAAE,UAAY;AAAA;AAAA,UAErCW,CAAQ;AAAA,oCACkBD,CAAO;AAAA,cAIvCE,EAAA,+BAAAD,CAAA,EAAmC,QAChC,KAAME,GAAA,OAAM,OAAAC,EAAAD,EAAE,eAAF,YAAAC,EAAA,KAAAD,GAAkB,EAC9B,MAAOE,GAAQ,QAAQ,MAAM,sBAAuBA,CAAG,CAAC,OAE3D,SAAS,cAAc,MAAM,EAAE,UAAYL,CAE/C,CAGA,SAASM,GAAiB,CACxBV,EAASD,GAAU,CACrB,CAGA,SAASY,EAAiBC,EAAG,CAC3B,MAAMC,EAAOD,EAAE,OAAO,QAAQ,GAAG,EACjC,GAAI,CAACC,EAAM,OAEX,MAAMjB,EAAM,IAAI,IAAIiB,EAAK,IAAI,EAC7B,GACEjB,EAAI,SAAW,OAAO,SAAS,QAC/BiB,EAAK,QAAQ,YAAY,EAEzB,OAEFD,EAAE,iBACF,MAAME,EAAYlB,EAAI,SAAS,QAAQL,EAAU,EAAE,GAAK,IACxD,OAAO,QAAQ,UAAU,GAAI,GAAIA,EAAWuB,CAAS,EACrDJ,EAAA,CACF,CAGO,SAASK,GAAa,CAC3B,SAAS,iBAAiB,QAASJ,CAAgB,EACnD,OAAO,iBAAiB,WAAYD,CAAc,EAClDA,EAAA,CACF,CC9HO,SAASM,GAAe,CAE7B,MAAMC,EAAc,OAAO,SAAS,SAAS,QAAQ1B,EAAU,EAAE,GAAK,IAChE2B,EAAgB,SAAS,iBAAiB,kBAAkB,EAC5DC,EAAc,SAAS,cAAc,MAAM,EAGjDD,EAAc,QAASL,GAAS,CAC1BA,EAAK,aAAa,MAAM,IAAMI,GAChCJ,EAAK,UAAU,IAAI,QAAQ,EAI7BA,EAAK,oBAAoB,QAASO,CAAmB,EAErDP,EAAK,iBAAiB,QAASO,CAAmB,CACtD,CAAG,EAGGD,IACFA,EAAY,UAAU,IAAI,gBAAgB,EAE1CE,EAAgBF,CAAW,EAE/B,CAGA,SAASE,EAAgBF,EAAa,CAEpC,GADiB,SAAS,cAAc,YAAY,EACtC,CAGZ,IAASG,EAAT,SAA4BV,EAAG,CACzBA,EAAE,QAEJO,EAAY,UAAU,OAAO,gBAAgB,EAG7CA,EAAY,UAAU,IAAI,gBAAgB,CAElD,EAVI,MAAMI,EAAa,OAAO,WAAW,oBAAoB,EAYzDA,EAAW,YAAYD,CAAkB,EACzCA,EAAmBC,CAAU,CACjC,CACA,CAGA,SAASH,EAAoBR,EAAG,CAC9BA,EAAE,eAAc,EAChB,MAAMY,EAAO,KAAK,aAAa,MAAM,EAC/BC,EAAc,SAAS,cAAc,eAAe,EAG1D,OAAO,QAAQ,UAAU,GAAI,GAAID,CAAI,EAGrC,SAAS,iBAAiB,kBAAkB,EAAE,QAASX,GAAS,CAC9DA,EAAK,UAAU,OAAO,QAAQ,CAClC,CAAG,EAGD,KAAK,UAAU,IAAI,QAAQ,EAGvBrB,EAAOgC,CAAI,EAEb,MAAM,GAAGjC,CAAQ,GAAGC,EAAOgC,CAAI,CAAC,EAAE,EAC/B,KAAME,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMtB,GAAY,CACbqB,IACFA,EAAY,UAAYrB,EAElC,CAAO,EACA,MAAOuB,GAAU,CAChB,QAAQ,MAAM,4BAA6BA,CAAK,EAC5CF,IACFA,EAAY,UAAY,oCAElC,CAAO,GAEH,QAAQ,MAAM,qBAAsBD,CAAI,EACpCC,IACFA,EAAY,UAAY,gCAG9B","names":["basePath","routes","pagesWithSideMenu","loadComponent","path","url","res","pageTitles","getRoute","loadPage","route","htmlPath","showSideMenu","content","sideMenu","__vitePreload","m","_a","err","handleLocation","handleNavigation","e","link","cleanPath","initRouter","initSideMenu","currentPath","sideMenuLinks","mainContent","handleSideMenuClick","setupMobileMenu","handleScreenChange","mediaQuery","href","pageContent","response","error"],"ignoreList":[],"sources":["../../src/js/components/router.js","../../src/js/components/sideMenu.js"],"sourcesContent":["// ==============  router.js  ==============\r\n// чтобы и локально и на GitHub Pages всё работало\r\n// const isDev = import.meta.env.DEV;\r\n// const basePath = isDev ? '' : '/AQUANIKA';\r\nexport const basePath = \"/AQUANIKA\";\r\n\r\n// Маршруты: ключ — «чистый» pathname, значение — файл страницы\r\nexport const routes = {\r\n  \"/\": \"/pages/home.html\",\r\n  \"/about\": \"/pages/about.html\",\r\n  \"/team\": \"/pages/team.html\",\r\n  \"/reviews\": \"/pages/reviews.html\",\r\n  \"/vacancies\": \"/pages/vacancies.html\",\r\n  \"/gallery\": \"/pages/gallery.html\",\r\n  \"/prices\": \"/pages/prices.html\",\r\n  \"/promotions\": \"/pages/promotions.html\",\r\n  \"/contacts\": \"/pages/contacts.html\",\r\n\r\n  \"/services/spa\": \"/pages/spa-and-massage.html\",\r\n  \"/services/laser\": \"/pages/laser-epilation.html\",\r\n  \"/services/brows\": \"/pages/brows-and-lashes.html\",\r\n  \"/services/nails\": \"/pages/manicure-pedicure.html\",\r\n  \"/services/cosmetology\": \"/pages/cosmetology.html\",\r\n  \"/services/hairdressing\": \"/pages/hairdressing.html\",\r\n  \"/services/makeup\": \"/pages/makeup.html\",\r\n  \"/services/men\": \"/pages/men-services.html\",\r\n};\r\n\r\n// Страницы, где нужно показывать боковое меню\r\nconst pagesWithSideMenu = [\r\n  \"/about\",\r\n  \"/team\",\r\n  \"/reviews\",\r\n  \"/vacancies\",\r\n  \"/gallery\",\r\n];\r\n\r\n// ---------------- helpers ----------------\r\n// Загружает любой HTML-чунк\r\nasync function loadComponent(path) {\r\n  const url = path.startsWith(\"/\")\r\n    ? `${basePath}${path}`\r\n    : `${basePath}/${path}`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error(`HTTP ${res.status} – ${url}`);\r\n  return res.text();\r\n}\r\n\r\n// Заголовки страниц\r\nconst pageTitles = {\r\n  \"/\": \"Aqvanika – салон красоты премиум-класса\",\r\n  \"/about\": \"О нас – Aqvanika\",\r\n  \"/team\": \"Наша команда – Aqvanika\",\r\n  \"/reviews\": \"Отзывы – Aqvanika\",\r\n  \"/vacancies\": \"Вакансии – Aqvanika\",\r\n  \"/gallery\": \"Галерея – Aqvanika\",\r\n  \"/prices\": \"Цены – Aqvanika\",\r\n  \"/promotions\": \"Акции – Aqvanika\",\r\n  \"/contacts\": \"Контакты – Aqvanika\",\r\n  \"/services/spa\": \"SPA и массаж – Aqvanika\",\r\n  \"/services/laser\": \"Лазерная эпиляция – Aqvanika\",\r\n  \"/services/brows\": \"Брови и ресницы – Aqvanika\",\r\n  \"/services/nails\": \"Маникюр и педикюр – Aqvanika\",\r\n  \"/services/cosmetology\": \"Косметология – Aqvanika\",\r\n  \"/services/hairdressing\": \"Парикмахерские услуги – Aqvanika\",\r\n  \"/services/makeup\": \"Макияж – Aqvanika\",\r\n  \"/services/men\": \"Услуги для мужчин – Aqvanika\",\r\n};\r\n\r\n// ---------------- routing ----------------\r\n// Определяет актуальный «чистый» маршрут\r\nfunction getRoute() {\r\n  return window.location.pathname.replace(basePath, \"\") || \"/\";\r\n}\r\n\r\n// Загружает контент нужной страницы\r\nasync function loadPage(route) {\r\n  const htmlPath = routes[route] || routes[\"/\"];\r\n  const showSideMenu = pagesWithSideMenu.includes(route);\r\n\r\n  document.title = pageTitles[route] || \"Aqvanika\";\r\n\r\n  const content = await loadComponent(htmlPath);\r\n\r\n  if (showSideMenu) {\r\n    const sideMenu = await loadComponent(\"/components/partials/side-menu.html\");\r\n    document.querySelector(\"main\").innerHTML = `\r\n      <div class=\"page-with-sidebar\">\r\n        ${sideMenu}\r\n        <div class=\"page-content\">${content}</div>\r\n      </div>`;\r\n\r\n    // динамический импорт скрипта бокового меню\r\n    import(`/js/components/sideMenu.js`)\r\n      .then((m) => m.initSideMenu?.())\r\n      .catch((err) => console.error(\"sideMenu.js failed:\", err));\r\n  } else {\r\n    document.querySelector(\"main\").innerHTML = content;\r\n  }\r\n}\r\n\r\n// Переход по истории браузера\r\nfunction handleLocation() {\r\n  loadPage(getRoute());\r\n}\r\n\r\n// Клик по внутренним ссылкам\r\nfunction handleNavigation(e) {\r\n  const link = e.target.closest(\"a\");\r\n  if (!link) return;\r\n\r\n  const url = new URL(link.href);\r\n  if (\r\n    url.origin !== window.location.origin ||\r\n    link.closest(\".side-menu\") // исключаем боковое меню\r\n  )\r\n    return;\r\n\r\n  e.preventDefault();\r\n  const cleanPath = url.pathname.replace(basePath, \"\") || \"/\";\r\n  window.history.pushState({}, \"\", basePath + cleanPath);\r\n  handleLocation();\r\n}\r\n\r\n// ---------------- init ----------------\r\nexport function initRouter() {\r\n  document.addEventListener(\"click\", handleNavigation);\r\n  window.addEventListener(\"popstate\", handleLocation);\r\n  handleLocation();\r\n}\r\n","import { routes, basePath } from \"./router.js\";\r\n\r\n// Управление боковым меню\r\nexport function initSideMenu() {\r\n  // Определение текущей страницы\r\n  const currentPath = window.location.pathname.replace(basePath, \"\") || \"/\";\r\n  const sideMenuLinks = document.querySelectorAll(\".side-menu__link\");\r\n  const mainContent = document.querySelector(\"main\");\r\n\r\n  // Добавление класса active для текущей страницы и обработчиков событий\r\n  sideMenuLinks.forEach((link) => {\r\n    if (link.getAttribute(\"href\") === currentPath) {\r\n      link.classList.add(\"active\");\r\n    }\r\n\r\n    // Удаляем старые обработчики перед добавлением новых\r\n    link.removeEventListener(\"click\", handleSideMenuClick);\r\n    // Добавляем обработчик клика для каждой ссылки\r\n    link.addEventListener(\"click\", handleSideMenuClick);\r\n  });\r\n\r\n  // Добавление класса для контента\r\n  if (mainContent) {\r\n    mainContent.classList.add(\"with-side-menu\");\r\n    // Настраиваем поведение для мобильных устройств\r\n    setupMobileMenu(mainContent);\r\n  }\r\n}\r\n\r\n// Показ/скрытие меню на мобильных устройствах\r\nfunction setupMobileMenu(mainContent) {\r\n  const sideMenu = document.querySelector(\".side-menu\");\r\n  if (sideMenu) {\r\n    const mediaQuery = window.matchMedia(\"(max-width: 992px)\");\r\n\r\n    function handleScreenChange(e) {\r\n      if (e.matches) {\r\n        // Мобильная версия\r\n        mainContent.classList.remove(\"with-side-menu\");\r\n      } else {\r\n        // Десктопная версия\r\n        mainContent.classList.add(\"with-side-menu\");\r\n      }\r\n    }\r\n\r\n    mediaQuery.addListener(handleScreenChange);\r\n    handleScreenChange(mediaQuery);\r\n  }\r\n}\r\n\r\n// Обработчик клика по ссылкам в боковом меню\r\nfunction handleSideMenuClick(e) {\r\n  e.preventDefault();\r\n  const href = this.getAttribute(\"href\");\r\n  const pageContent = document.querySelector(\".page-content\");\r\n\r\n  // Обновляем URL без перезагрузки страницы\r\n  window.history.pushState({}, \"\", href);\r\n\r\n  // Удаляем класс active со всех ссылок\r\n  document.querySelectorAll(\".side-menu__link\").forEach((link) => {\r\n    link.classList.remove(\"active\");\r\n  });\r\n\r\n  // Добавляем класс active текущей ссылке\r\n  this.classList.add(\"active\");\r\n\r\n  // Загружаем новый контент\r\n  if (routes[href]) {\r\n    // basePath импортирован из router.js\r\n    fetch(`${basePath}${routes[href]}`)\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        return response.text();\r\n      })\r\n      .then((content) => {\r\n        if (pageContent) {\r\n          pageContent.innerHTML = content;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Ошибка загрузки контента:\", error);\r\n        if (pageContent) {\r\n          pageContent.innerHTML = \"<h1>Ошибка загрузки страницы</h1>\";\r\n        }\r\n      });\r\n  } else {\r\n    console.error(\"Маршрут не найден:\", href);\r\n    if (pageContent) {\r\n      pageContent.innerHTML = \"<h1>Страница не найдена</h1>\";\r\n    }\r\n  }\r\n}\r\n"],"file":"assets/sideMenu-D5s5Von3.js"}