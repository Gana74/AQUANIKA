const q="modulepreload",b=function(e){return"/AQUANIKA/"+e},p={},w=function(t,i,n){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(i.map(r=>{if(r=b(r),r in p)return;p[r]=!0;const m=r.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${y}`))return;const u=document.createElement("link");if(u.rel=m?"stylesheet":q,m||(u.as="script"),u.crossOrigin="",u.href=r,a&&u.setAttribute("nonce",a),document.head.appendChild(u),m)return new Promise((A,k)=>{u.addEventListener("load",A),u.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${r}`)))})}))}function l(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&l(a.reason);return t().catch(l)})},c=window.location.hostname.includes("github.io")||window.location.hostname==="localhost"?"/AQUANIKA":"",S=window.location.hostname.includes("github.io"),d={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/price":"/pages/price.html","/promotions":"/pages/promotions.html","/contacts":"/pages/contacts.html","/services/spa":"/pages/spa-and-massage.html","/services/aquanika":"/pages/aquanika-massage.html","/services/massage":"/pages/massage.html","/services/wrapping":"/pages/wrapping.html","/services/epilation":"/pages/epilation.html","/services/epilation/laser":"/pages/laser-epilation.html","/services/epilation/sugaring":"/pages/sugaring.html","/services/brows":"/pages/brows-and-lashes.html","/services/brows/architecture":"/pages/brows-architecture.html","/services/brows/extensions":"/pages/brows-extensions.html","/services/nails":"/pages/manicure-pedicure.html","/services/nails/manicure":"/pages/manicure.html","/services/nails/pedicure":"/pages/pedicure.html","/services/nails/extensions":"/pages/nails-extensions.html","/services/cosmetology":"/pages/cosmetology.html","/services/cosmetology/face-care":"/pages/face-care.html","/services/cosmetology/injections":"/pages/injections.html","/services/cosmetology/tattoo-removal":"/pages/tattoo-removal.html","/services/hairdressing":"/pages/hairdressing.html","/services/hairdressing/haircuts":"/pages/haircuts.html","/services/hairdressing/coloring":"/pages/hair-coloring.html","/services/hairdressing/styling":"/pages/hair-styling.html","/services/makeup":"/pages/makeup.html","/services/men":"/pages/men-services.html","/services/men/haircut":"/pages/men-haircut.html","/services/men/epilation":"/pages/men-epilation.html","/services/men/manicure":"/pages/men-manicure.html","/services/price":"/pages/price.html"},P=["/about","/team","/reviews","/vacancies","/gallery"],M={"/":"Aquanika – салон красоты премиум-класса","/about":"О нас – Aquanika","/team":"Наша команда – Aquanika","/reviews":"Отзывы – Aquanika","/vacancies":"Вакансии – Aquanika","/gallery":"Галерея – Aquanika","/prices":"Цены – Aquanika","/promotions":"Акции – Aquanika","/contacts":"Контакты – Aquanika","/services/spa":"SPA и массаж – Aquanika","/services/aquanika":"Подводно-вакуумный массаж 'Акваника' – Aquanika","/services/massage":"Массаж – Aquanika","/services/wrapping":"Обертывания – Aquanika","/services/epilation":"Эпиляция – Aquanika","/services/epilation/laser":"Лазерная эпиляция – Aquanika","/services/epilation/sugaring":"Шугаринг – Aquanika","/services/brows":"Брови и ресницы – Aquanika","/services/brows/architecture":"Брови — Архитектура – Aquanika","/services/brows/extensions":"Ресницы — Наращивание – Aquanika","/services/nails":"Ногтевой сервис – Aquanika","/services/nails/manicure":"Маникюр – Aquanika","/services/nails/pedicure":"Педикюр – Aquanika","/services/nails/extensions":"Наращивание ногтей – Aquanika","/services/cosmetology":"Косметология – Aquanika","/services/cosmetology/face-care":"Косметология — Уход за лицом – Aquanika","/services/cosmetology/injections":"Косметология — Инъекции – Aquanika","/services/cosmetology/tattoo-removal":"Косметология — Выведение татуажа – Aquanika","/services/hairdressing":"Парикмахерские услуги – Aquanika","/services/hairdressing/haircuts":"Стрижки – Aquanika","/services/hairdressing/coloring":"Окрашивание – Aquanika","/services/hairdressing/styling":"Укладки – Aquanika","/services/makeup":"Макияж – Aquanika","/services/men":"Услуги для мужчин – Aquanika","/services/men/haircut":"Для мужчин — Стрижка – Aquanika","/services/men/epilation":"Для мужчин — Эпиляция – Aquanika","/services/men/manicure":"Для мужчин — Маникюр – Aquanika","/services/price":"Прайс-лист"};async function f(e){let t=e;e.startsWith("/")&&(t=`${c}${e}`);const i=await fetch(t);if(!i.ok)throw new Error(`HTTP ${i.status} – ${t}`);return i.text()}function L(e){try{const i=new DOMParser().parseFromString(e,"text/html"),n=i.querySelector("main");if(n)return n.innerHTML;if(i.body)return i.body.innerHTML}catch(t){console.warn("HTML parse failed, using raw content",t)}return e}function E(){let e=window.location.pathname;return c&&e.startsWith(c)&&(e=e.slice(c.length)),e||"/"}async function T(e){const t=d[e]||d["/"],i=P.includes(e);document.title=M[e]||"Aquanika";try{const n=await f(t),o=L(n);if(i){const s=await f("/components/partials/side-menu.html");document.querySelector("main").innerHTML=`
        <div class="page-with-sidebar container">
          ${s}
          <div class="page-content">${o}</div>
        </div>`;try{const a=await w(()=>Promise.resolve().then(()=>H),void 0);a.initSideMenu?a.initSideMenu():a.default&&a.default.initSideMenu&&a.default.initSideMenu()}catch(a){console.warn("sideMenu.js not available:",a)}}else document.querySelector("main").innerHTML=o;x();const{hash:l}=window.location;if(l){const s=()=>{const a=l.slice(1),r=document.getElementById(a)||document.querySelector(l);return r?(r.scrollIntoView({behavior:"smooth",block:"start"}),!0):!1};s()||requestAnimationFrame(()=>{s()||setTimeout(s,50)})}else if(i){const s=document.querySelector(".page-content");s?setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},50):window.scrollTo({top:0,behavior:"smooth"})}else window.scrollTo(0,0)}catch(n){console.error("Ошибка загрузки страницы:",n),e!=="/"&&h("/")}}function h(e){const t=e.startsWith("/")?e:"/"+e,i=t.indexOf("#"),n=i>=0?t.slice(0,i):t,o=i>=0?t.slice(i):"",l=c+n+o;window.history.pushState({},"",l),g()}window.navigateTo=h;function g(){T(E())}function C(e){const t=e.target.closest("a");if(!t)return;const i=new URL(t.href);if(i.origin!==window.location.origin||t.closest(".side-menu"))return;const n=window.location.pathname,o=i.pathname;if(t.hash&&o===n){e.preventDefault();const s=t.hash.slice(1),a=document.getElementById(s)||document.querySelector(t.hash);a?a.scrollIntoView({behavior:"smooth",block:"start"}):window.location.hash=t.hash;return}e.preventDefault();const l=o.replace(c,"")||"/";h(l+(i.hash||""))}function _(){if(S){const i=sessionStorage.getItem("redirectPath");if(i&&(console.log("GitHub Pages редирект:",i),sessionStorage.removeItem("redirectPath"),d[i]))return h(i),!0}const e=window.location.pathname;let t=e;return c&&e.startsWith(c)&&(t=e.slice(c.length)),t!=="/"&&!t.endsWith(".html")&&d[t]?(console.log("Прямой переход по ссылке:",t),h(t),!0):!1}function x(){typeof window.initCarousels=="function"&&window.initCarousels(),typeof window.initForms=="function"&&window.initForms(),typeof window.initVideoModal=="function"&&window.initVideoModal(),typeof window.initGalleryModal=="function"&&window.initGalleryModal();try{(()=>{const t=document.querySelectorAll(".promo-carousel");t.length&&w(()=>import("./carousel-Dfpd5XhE.js"),[]).then(i=>{const n=i.initCarousel||i.default&&i.default.initCarousel;n&&t.forEach(o=>{o.dataset.inited||(n(o),o.dataset.inited="true")})})})()}catch(e){console.warn("Carousel init failed",e)}}function R(){_()||(document.addEventListener("click",C),window.addEventListener("popstate",g),g())}function I(){const e=window.location.pathname.replace(c,"")||"/",t=document.querySelectorAll(".side-menu__link"),i=document.querySelector("main");t.forEach(n=>{n.getAttribute("href")===e&&n.classList.add("active"),n.removeEventListener("click",v),n.addEventListener("click",v)}),i&&(i.classList.add("with-side-menu"),$(i))}function $(e){if(document.querySelector(".side-menu")){let n=function(o){o.matches?e.classList.remove("with-side-menu"):e.classList.add("with-side-menu")};const i=window.matchMedia("(max-width: 992px)");i.addListener(n),n(i)}}function v(e){e.preventDefault();const t=this.getAttribute("href"),i=document.querySelector(".page-content");window.history.pushState({},"",t),document.querySelectorAll(".side-menu__link").forEach(n=>{n.classList.remove("active")}),this.classList.add("active"),d[t]?typeof window.navigateTo=="function"?window.navigateTo(t):window.location.href=`${c}${t}`:(console.error("Маршрут не найден:",t),i&&(i.innerHTML="<h1>Страница не найдена</h1>"))}const H=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:I},Symbol.toStringTag,{value:"Module"}));export{c as b,R as i};
//# sourceMappingURL=sideMenu-DxyCBO-0.js.map
