{"version":3,"file":"main-_SUgS3qt.js","sources":["../../src/js/components/loadComponents.js","../../src/js/components/toTopButton.js","../../src/js/components/mobileMenu.js","../../src/js/main.js"],"sourcesContent":["// loadComponents.js - исправленная версия\r\nasync function loadComponent(elementId, componentPath) {\r\n  try {\r\n    // Определяем базовый путь динамически\r\n    const basePath = window.location.origin + \"/AQUANIKA/\";\r\n    const fullPath = `${basePath}${componentPath}`;\r\n\r\n    const response = await fetch(fullPath);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    const html = await response.text();\r\n    const element = document.getElementById(elementId);\r\n    if (element) {\r\n      element.innerHTML = html;\r\n    } else {\r\n      console.warn(`Элемент с ID ${elementId} не найден`);\r\n    }\r\n  } catch (error) {\r\n    console.error(`Ошибка при загрузке компонента ${componentPath}:`, error);\r\n  }\r\n}\r\n\r\n// Загружаем компоненты при загрузке страницы\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  loadComponent(\"header-placeholder\", \"components/partials/header.html\");\r\n  loadComponent(\"footer-placeholder\", \"components/partials/footer.html\");\r\n});\r\nexport { loadComponent };\r\n","// Логика для кнопки \"Наверх\"\r\n// Появление кнопки при прокрутке и плавный скролл вверх\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const toTopButton = document.getElementById(\"toTopButton\");\r\n  if (!toTopButton) return;\r\n\r\n  // Показываем/скрываем кнопку при прокрутке\r\n  window.addEventListener(\"scroll\", () => {\r\n    if (window.pageYOffset > 300) {\r\n      toTopButton.classList.add(\"show\");\r\n    } else {\r\n      toTopButton.classList.remove(\"show\");\r\n    }\r\n  });\r\n\r\n  // Плавная прокрутка наверх при клике\r\n  toTopButton.addEventListener(\"click\", () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  });\r\n});\r\n","// Мобильное меню\r\nexport class MobileMenu {\r\n  constructor() {\r\n    // Элементы меню\r\n    this.sidebar = document.querySelector(\".mobile-nav__sidebar\");\r\n    this.slides = document.querySelector(\".mobile-nav__slides\");\r\n    this.mainSlide = document.querySelector(\".mobile-nav__slide-main\");\r\n    this.submenuSlide = document.querySelector(\".mobile-nav__slide-submenu\");\r\n    this.menuBtn = document.querySelector(\".mobile-nav__menu-btn\");\r\n    this.closeBtn = document.querySelector(\".mobile-nav__close\");\r\n    this.backBtn = document.querySelector(\".mobile-nav__back\");\r\n    this.servicesBtn = document.querySelector(\".mobile-nav__category-btn\");\r\n    this.categoriesList = document.querySelector(\".mobile-nav__categories\");\r\n    this.subcategoryBtns = document.querySelectorAll(\r\n      \".mobile-nav__subcategory-btn\"\r\n    );\r\n    this.submenus = document.querySelectorAll(\".mobile-nav__subsubmenu\");\r\n\r\n    // Состояние меню\r\n    this.isOpen = false;\r\n    this.isSubmenuOpen = false;\r\n    this.isCategoriesOpen = false;\r\n\r\n    // Привязка контекста\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n    this.closeMenu = this.closeMenu.bind(this);\r\n    this.toggleCategories = this.toggleCategories.bind(this);\r\n    this.showSubmenu = this.showSubmenu.bind(this);\r\n    this.hideSubmenu = this.hideSubmenu.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n\r\n    // Инициализация обработчиков событий\r\n    this.initEventListeners();\r\n  }\r\n\r\n  // Инициализация обработчиков событий\r\n  initEventListeners() {\r\n    // Открытие/закрытие меню\r\n    this.menuBtn.addEventListener(\"click\", this.toggleMenu);\r\n    this.closeBtn.addEventListener(\"click\", this.closeMenu);\r\n\r\n    // Открытие/закрытие списка категорий\r\n    this.servicesBtn.addEventListener(\"click\", this.toggleCategories);\r\n\r\n    // Навигация по подменю\r\n    this.subcategoryBtns.forEach((btn) => {\r\n      btn.addEventListener(\"click\", () => {\r\n        const category = btn.dataset.category;\r\n        this.showSubmenu(category);\r\n      });\r\n    });\r\n\r\n    this.backBtn.addEventListener(\"click\", this.hideSubmenu);\r\n\r\n    // Закрытие меню при клике вне его\r\n    document.addEventListener(\"click\", this.handleClickOutside);\r\n\r\n    // Закрытие меню при клике на любую ссылку в меню\r\n    this.sidebar.addEventListener(\"click\", (e) => {\r\n      if (e.target.closest(\"a\")) {\r\n        this.closeMenu();\r\n      }\r\n    });\r\n\r\n    // Добавляем эффекты при наведении и нажатии для всех интерактивных элементов\r\n    this.addInteractiveEffects();\r\n  }\r\n\r\n  // Добавление интерактивных эффектов\r\n  addInteractiveEffects() {\r\n    // Получаем все интерактивные элементы\r\n    const interactiveElements = this.sidebar.querySelectorAll(\"a, button\");\r\n\r\n    interactiveElements.forEach((element) => {\r\n      // Эффект при наведении\r\n      element.addEventListener(\"mouseenter\", () => {\r\n        element.style.transition = \"all 0.2s ease\";\r\n        element.style.transform = \"translateY(-1px)\";\r\n      });\r\n\r\n      // Возврат к исходному состоянию\r\n      element.addEventListener(\"mouseleave\", () => {\r\n        element.style.transform = \"translateY(0)\";\r\n      });\r\n\r\n      // Эффект при нажатии\r\n      element.addEventListener(\"mousedown\", () => {\r\n        element.style.transform = \"translateY(1px)\";\r\n      });\r\n\r\n      // Возврат после нажатия\r\n      element.addEventListener(\"mouseup\", () => {\r\n        element.style.transform = \"translateY(-1px)\";\r\n      });\r\n    });\r\n  }\r\n\r\n  // Открытие/закрытие меню\r\n  toggleMenu() {\r\n    if (this.isOpen) {\r\n      this.closeMenu();\r\n    } else {\r\n      this.openMenu();\r\n    }\r\n  }\r\n\r\n  // Открытие меню\r\n  openMenu() {\r\n    this.isOpen = true;\r\n    this.sidebar.classList.add(\"is-open\");\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  // Закрытие меню\r\n  closeMenu() {\r\n    this.isOpen = false;\r\n    this.isSubmenuOpen = false;\r\n    this.isCategoriesOpen = false;\r\n    this.sidebar.classList.remove(\"is-open\");\r\n    this.slides.classList.remove(\"show-submenu\");\r\n    this.servicesBtn.classList.remove(\"is-open\");\r\n    this.categoriesList.classList.remove(\"is-open\");\r\n    document.body.style.overflow = \"\";\r\n  }\r\n\r\n  // Открытие/закрытие списка категорий\r\n  toggleCategories() {\r\n    this.isCategoriesOpen = !this.isCategoriesOpen;\r\n    this.servicesBtn.classList.toggle(\"is-open\");\r\n    this.categoriesList.classList.toggle(\"is-open\");\r\n  }\r\n\r\n  // Показать подменю для выбранной категории\r\n  showSubmenu(category) {\r\n    this.isSubmenuOpen = true;\r\n    this.slides.classList.add(\"show-submenu\");\r\n\r\n    // Обновляем заголовок подменю\r\n    // const submenuTitle = this.submenuSlide.querySelector(\r\n    //   \".mobile-nav__submenu-title\"\r\n    // );\r\n    // const categoryBtn = document.querySelector(`[data-category=\"${category}\"]`);\r\n    // submenuTitle.textContent = categoryBtn.querySelector(\"span\").textContent;\r\n\r\n    // Показываем нужное подменю\r\n    this.submenus.forEach((submenu) => {\r\n      if (submenu.dataset.category === category) {\r\n        submenu.classList.add(\"is-active\");\r\n      } else {\r\n        submenu.classList.remove(\"is-active\");\r\n      }\r\n    });\r\n  }\r\n\r\n  // Скрыть подменю\r\n  hideSubmenu() {\r\n    this.isSubmenuOpen = false;\r\n    this.slides.classList.remove(\"show-submenu\");\r\n\r\n    // Скрываем все подменю\r\n    this.submenus.forEach((submenu) => {\r\n      submenu.classList.remove(\"is-active\");\r\n    });\r\n  }\r\n\r\n  // Обработка клика вне меню\r\n  handleClickOutside(event) {\r\n    if (\r\n      this.isOpen &&\r\n      !this.sidebar.contains(event.target) &&\r\n      !this.menuBtn.contains(event.target)\r\n    ) {\r\n      this.closeMenu();\r\n    }\r\n  }\r\n}\r\n","// Импорт стилей\r\nimport \"/styles/main.css\";\r\n\r\n// Импорт компонентов\r\nimport { loadComponent } from \"./components/loadComponents.js\";\r\nimport \"./components/toTopButton.js\";\r\nimport { MobileMenu } from \"./components/mobileMenu.js\";\r\nimport { initRouter, basePath } from \"./components/router.js\";\r\n\r\n// Умная загрузка компонентов header/footer\r\nasync function loadLayoutComponents() {\r\n  try {\r\n    if (document.getElementById(\"header-placeholder\")) {\r\n      await loadComponent(\"header-placeholder\", \"/components/partials/header.html\");\r\n    }\r\n    if (document.getElementById(\"footer-placeholder\")) {\r\n      await loadComponent(\"footer-placeholder\", \"/components/partials/footer.html\");\r\n    }\r\n  } catch (error) {\r\n    console.warn(\"Layout components loading failed:\", error);\r\n  }\r\n}\r\n\r\n// Инициализация при загрузке страницы\r\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\r\n  console.log(\"🚀 Aqvanika loaded in\", \r\n    window.location.hostname.includes('github.io') ? \"GitHub Pages\" : \r\n    window.location.hostname === 'localhost' ? \"Local development\" : \"Production\",\r\n    \"mode\"\r\n  );\r\n\r\n  // Параллельная загрузка компонентов и инициализация\r\n  await Promise.all([\r\n    loadLayoutComponents(),\r\n    new Promise(resolve => {\r\n      new MobileMenu();\r\n      resolve();\r\n    })\r\n  ]);\r\n\r\n  // Инициализация роутера\r\n  initRouter();\r\n});"],"names":["loadComponent","elementId","componentPath","fullPath","response","html","element","error","toTopButton","MobileMenu","btn","category","e","submenu","event","loadLayoutComponents","resolve","initRouter"],"mappings":"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"}