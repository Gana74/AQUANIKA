/* empty css             */import{b as ge,i as Oe}from"./sideMenu-D1uie_U2.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const t of p.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&r(t)}).observe(document,{childList:!0,subtree:!0});function s(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(d){if(d.ep)return;d.ep=!0;const p=s(d);fetch(d.href,p)}})();var Ie={exports:{}};(function(e){(function(a,s){var r=s(a,a.document,Date);a.lazySizes=r,e.exports&&(e.exports=r)})(typeof window<"u"?window:{},function(s,r,d){var p,t;if(function(){var u,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};t=s.lazySizesConfig||s.lazysizesConfig||{};for(u in c)u in t||(t[u]=c[u])}(),!r||!r.getElementsByClassName)return{init:function(){},cfg:t,noSupport:!0};var A=r.documentElement,g=s.HTMLPictureElement,l="addEventListener",f="getAttribute",o=s[l].bind(s),i=s.setTimeout,h=s.requestAnimationFrame||i,y=s.requestIdleCallback,E=/^picture$/i,w=["load","error","lazyincluded","_lazyloaded"],C={},T=Array.prototype.forEach,O=function(u,c){return C[c]||(C[c]=new RegExp("(\\s|^)"+c+"(\\s|$)")),C[c].test(u[f]("class")||"")&&C[c]},P=function(u,c){O(u,c)||u.setAttribute("class",(u[f]("class")||"").trim()+" "+c)},oe=function(u,c){var v;(v=O(u,c))&&u.setAttribute("class",(u[f]("class")||"").replace(v," "))},ae=function(u,c,v){var S=v?l:"removeEventListener";v&&ae(u,c),w.forEach(function(x){u[S](x,c)})},Y=function(u,c,v,S,x){var b=r.createEvent("Event");return v||(v={}),v.instance=p,b.initEvent(c,!S,!x),b.detail=v,u.dispatchEvent(b),b},re=function(u,c){var v;!g&&(v=s.picturefill||t.pf)?(c&&c.src&&!u[f]("srcset")&&u.setAttribute("srcset",c.src),v({reevaluate:!0,elements:[u]})):c&&c.src&&(u.src=c.src)},G=function(u,c){return(getComputedStyle(u,null)||{})[c]},ce=function(u,c,v){for(v=v||u.offsetWidth;v<t.minSize&&c&&!u._lazysizesWidth;)v=c.offsetWidth,c=c.parentNode;return v},J=function(){var u,c,v=[],S=[],x=v,b=function(){var _=x;for(x=v.length?S:v,u=!0,c=!1;_.length;)_.shift()();u=!1},z=function(_,k){u&&!k?_.apply(this,arguments):(x.push(_),c||(c=!0,(r.hidden?i:h)(b)))};return z._lsFlush=b,z}(),ee=function(u,c){return c?function(){J(u)}:function(){var v=this,S=arguments;J(function(){u.apply(v,S)})}},Le=function(u){var c,v=0,S=t.throttleDelay,x=t.ricTimeout,b=function(){c=!1,v=d.now(),u()},z=y&&x>49?function(){y(b,{timeout:x}),x!==t.ricTimeout&&(x=t.ricTimeout)}:ee(function(){i(b)},!0);return function(_){var k;(_=_===!0)&&(x=33),!c&&(c=!0,k=S-(d.now()-v),k<0&&(k=0),_||k<9?z():i(z,k))}},de=function(u){var c,v,S=99,x=function(){c=null,u()},b=function(){var z=d.now()-v;z<S?i(b,S-z):(y||x)(x)};return function(){v=d.now(),c||(c=i(b,S))}},ue=function(){var u,c,v,S,x,b,z,_,k,I,W,V,we=/^img$/i,Ce=/^iframe$/i,ke="onscroll"in s&&!/(gle|ing)bot/.test(navigator.userAgent),xe=0,X=0,R=0,K=-1,fe=function(n){R--,(!n||R<0||!n.target)&&(R=0)},me=function(n){return V==null&&(V=G(r.body,"visibility")=="hidden"),V||!(G(n.parentNode,"visibility")=="hidden"&&G(n,"visibility")=="hidden")},Se=function(n,m){var L,M=n,B=me(n);for(_-=m,W+=m,k-=m,I+=m;B&&(M=M.offsetParent)&&M!=r.body&&M!=A;)B=(G(M,"opacity")||1)>0,B&&G(M,"overflow")!="visible"&&(L=M.getBoundingClientRect(),B=I>L.left&&k<L.right&&W>L.top-1&&_<L.bottom+1);return B},pe=function(){var n,m,L,M,B,q,H,$,j,D,U,Q,F=p.elements;if((S=t.loadMode)&&R<8&&(n=F.length)){for(m=0,K++;m<n;m++)if(!(!F[m]||F[m]._lazyRace)){if(!ke||p.prematureUnveil&&p.prematureUnveil(F[m])){Z(F[m]);continue}if((!($=F[m][f]("data-expand"))||!(q=$*1))&&(q=X),D||(D=!t.expand||t.expand<1?A.clientHeight>500&&A.clientWidth>500?500:370:t.expand,p._defEx=D,U=D*t.expFactor,Q=t.hFac,V=null,X<U&&R<1&&K>2&&S>2&&!r.hidden?(X=U,K=0):S>1&&K>1&&R<6?X=D:X=xe),j!==q&&(b=innerWidth+q*Q,z=innerHeight+q,H=q*-1,j=q),L=F[m].getBoundingClientRect(),(W=L.bottom)>=H&&(_=L.top)<=z&&(I=L.right)>=H*Q&&(k=L.left)<=b&&(W||I||k||_)&&(t.loadHidden||me(F[m]))&&(c&&R<3&&!$&&(S<3||K<4)||Se(F[m],q))){if(Z(F[m]),B=!0,R>9)break}else!B&&c&&!M&&R<4&&K<4&&S>2&&(u[0]||t.preloadAfterLoad)&&(u[0]||!$&&(W||I||k||_||F[m][f](t.sizesAttr)!="auto"))&&(M=u[0]||F[m])}M&&!B&&Z(M)}},N=Le(pe),ve=function(n){var m=n.target;if(m._lazyCache){delete m._lazyCache;return}fe(n),P(m,t.loadedClass),oe(m,t.loadingClass),ae(m,he),Y(m,"lazyloaded")},ze=ee(ve),he=function(n){ze({target:n.target})},Ae=function(n,m){var L=n.getAttribute("data-load-mode")||t.iframeLoadMode;L==0?n.contentWindow.location.replace(m):L==1&&(n.src=m)},Me=function(n){var m,L=n[f](t.srcsetAttr);(m=t.customMedia[n[f]("data-media")||n[f]("media")])&&n.setAttribute("media",m),L&&n.setAttribute("srcset",L)},Be=ee(function(n,m,L,M,B){var q,H,$,j,D,U;(D=Y(n,"lazybeforeunveil",m)).defaultPrevented||(M&&(L?P(n,t.autosizesClass):n.setAttribute("sizes",M)),H=n[f](t.srcsetAttr),q=n[f](t.srcAttr),B&&($=n.parentNode,j=$&&E.test($.nodeName||"")),U=m.firesLoad||"src"in n&&(H||q||j),D={target:n},P(n,t.loadingClass),U&&(clearTimeout(v),v=i(fe,2500),ae(n,he,!0)),j&&T.call($.getElementsByTagName("source"),Me),H?n.setAttribute("srcset",H):q&&!j&&(Ce.test(n.nodeName)?Ae(n,q):n.src=q),B&&(H||j)&&re(n,{src:q})),n._lazyRace&&delete n._lazyRace,oe(n,t.lazyClass),J(function(){var Q=n.complete&&n.naturalWidth>1;(!U||Q)&&(Q&&P(n,t.fastLoadedClass),ve(D),n._lazyCache=!0,i(function(){"_lazyCache"in n&&delete n._lazyCache},9)),n.loading=="lazy"&&R--},!0)}),Z=function(n){if(!n._lazyRace){var m,L=we.test(n.nodeName),M=L&&(n[f](t.sizesAttr)||n[f]("sizes")),B=M=="auto";(B||!c)&&L&&(n[f]("src")||n.srcset)&&!n.complete&&!O(n,t.errorClass)&&O(n,t.lazyClass)||(m=Y(n,"lazyunveilread").detail,B&&se.updateElem(n,!0,n.offsetWidth),n._lazyRace=!0,R++,Be(n,m,B,M,L))}},qe=de(function(){t.loadMode=3,N()}),ye=function(){t.loadMode==3&&(t.loadMode=2),qe()},ne=function(){if(!c){if(d.now()-x<999){i(ne,999);return}c=!0,t.loadMode=3,N(),o("scroll",ye,!0)}};return{_:function(){x=d.now(),p.elements=r.getElementsByClassName(t.lazyClass),u=r.getElementsByClassName(t.lazyClass+" "+t.preloadClass),o("scroll",N,!0),o("resize",N,!0),o("pageshow",function(n){if(n.persisted){var m=r.querySelectorAll("."+t.loadingClass);m.length&&m.forEach&&h(function(){m.forEach(function(L){L.complete&&Z(L)})})}}),s.MutationObserver?new MutationObserver(N).observe(A,{childList:!0,subtree:!0,attributes:!0}):(A[l]("DOMNodeInserted",N,!0),A[l]("DOMAttrModified",N,!0),setInterval(N,999)),o("hashchange",N,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(n){r[l](n,N,!0)}),/d$|^c/.test(r.readyState)?ne():(o("load",ne),r[l]("DOMContentLoaded",N),i(ne,2e4)),p.elements.length?(pe(),J._lsFlush()):N()},checkElems:N,unveil:Z,_aLSL:ye}}(),se=function(){var u,c=ee(function(b,z,_,k){var I,W,V;if(b._lazysizesWidth=k,k+="px",b.setAttribute("sizes",k),E.test(z.nodeName||""))for(I=z.getElementsByTagName("source"),W=0,V=I.length;W<V;W++)I[W].setAttribute("sizes",k);_.detail.dataAttr||re(b,_.detail)}),v=function(b,z,_){var k,I=b.parentNode;I&&(_=ce(b,I,_),k=Y(b,"lazybeforesizes",{width:_,dataAttr:!!z}),k.defaultPrevented||(_=k.detail.width,_&&_!==b._lazysizesWidth&&c(b,I,k,_)))},S=function(){var b,z=u.length;if(z)for(b=0;b<z;b++)v(u[b])},x=de(S);return{_:function(){u=r.getElementsByClassName(t.autosizesClass),o("resize",x)},checkElems:x,updateElem:v}}(),te=function(){!te.i&&r.getElementsByClassName&&(te.i=!0,se._(),ue._())};return i(function(){t.init&&te()}),p={cfg:t,autoSizer:se,loader:ue,init:te,uP:re,aC:P,rC:oe,hC:O,fire:Y,gW:ce,rAF:J},p})})(Ie);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toTopButton");e&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?e.classList.add("show"):e.classList.remove("show")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))});const be="/AQUANIKA/assets/home-BCn1Fb8x.mp4";function Ne(){const e=document.getElementById("videoBlock"),a=document.getElementById("playButton"),s=document.getElementById("videoModal"),r=document.getElementById("aboutVideo"),d=document.getElementById("closeModal");if(!e||!a||!s||!r||!d)return;try{be&&(r.src=be,r.setAttribute("preload","none"))}catch(l){console.warn("Не удалось назначить src для видео:",l)}async function p(){s.style.display="block",document.body.style.overflow="hidden",document.body.style.paddingRight=A()+"px";const l=s.querySelector(".video-container")||r;try{l.requestFullscreen?await l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():r.webkitEnterFullscreen&&r.webkitEnterFullscreen()}catch(f){console.warn("Fullscreen error:",f)}try{await r.play()}catch(f){console.log("Автовоспроизведение не разрешено:",f)}}async function t(){try{r.pause()}catch{}s.style.display="none",document.body.style.overflow="auto",document.body.style.paddingRight="";try{document.fullscreenElement&&document.exitFullscreen?await document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(l){console.warn("Exit fullscreen error:",l)}}function A(){return window.innerWidth-document.documentElement.clientWidth}e.addEventListener("click",function(l){l.target!==a&&!a.contains(l.target)&&p()}),a.addEventListener("click",p),d.addEventListener("click",t),s.addEventListener("click",function(l){l.target===s&&t()}),document.addEventListener("keydown",function(l){l.key==="Escape"&&s.style.display==="block"&&t()});const g=document.querySelector(".modal-content");g&&g.addEventListener("click",function(l){l.stopPropagation()}),console.log("Modal video initialized successfully")}function Fe(){const e=document,a=e.getElementById("galleryMasonry");if(!a)return;const s=e.querySelectorAll(".gallery-filter .filter-button");s.forEach(i=>{i.addEventListener("click",()=>{s.forEach(E=>E.classList.remove("active")),i.classList.add("active");const h=i.getAttribute("data-filter");a.querySelectorAll(".gallery-item").forEach(E=>{const w=E.getAttribute("data-category"),C=h==="all"||w===h;E.style.display=C?"":"none"})})});const r=e.getElementById("galleryModal");if(!r)return;const d=r.querySelector(".gallery-modal__image"),p=r.querySelector(".gallery-modal__caption"),t=r.querySelector(".gallery-modal__close"),A=r.querySelector(".gallery-modal__prev"),g=r.querySelector(".gallery-modal__next");let l=-1;const f=()=>Array.from(a.querySelectorAll(".gallery-item")).filter(i=>i.style.display!=="none");function o(i){const h=f();if(!h.length)return;l=(i+h.length)%h.length;const y=h[l].querySelector("img");d.src=y.src,d.alt=y.alt||"",p.textContent=y.alt||"",r.classList.add("is-open")}a.addEventListener("click",i=>{let h=i.target.closest("img"),y=i.target.closest(".gallery-item");if(!h&&y&&(h=y.querySelector("img")),!h||!y)return;const w=f().indexOf(y);o(w)}),t.addEventListener("click",()=>r.classList.remove("is-open")),r.addEventListener("click",i=>{i.target===r&&r.classList.remove("is-open")}),A.addEventListener("click",()=>o(l-1)),g.addEventListener("click",()=>o(l+1)),window.addEventListener("keydown",i=>{r.classList.contains("is-open")&&(i.key==="Escape"&&r.classList.remove("is-open"),i.key==="ArrowLeft"&&o(l-1),i.key==="ArrowRight"&&o(l+1))})}let Ee=!1;function Te(){if(document.getElementById("formsModalOverlay"))return;const e=(o,i,h={},y)=>{const E=document.createElement(o);i&&(E.className=i);for(const[w,C]of Object.entries(h))C!=null&&E.setAttribute(w,String(C));return y!==void 0&&(E.textContent=y),E},a=e("div","modal-overlay",{id:"formsModalOverlay"}),s={callback:"AQUANIKA: Заказать звонок",question:"AQUANIKA: Вопрос",review:"AQUANIKA: Отзыв"},r=()=>e("span","form__req",{},"*"),d=(o,i,h,y)=>{const E=e("div","form__row"),w=e("label","form__label");w.append(document.createTextNode(i)),h&&w.append(r());const C=e("input","form__input",y);return h&&(C.required=!0),w.append(C),E.append(w),o.append(E),C},p=(o,i,h,y,E)=>{const w=e("div","form__row"),C=e("label","form__label");C.append(document.createTextNode(i));const T=e("select","form__input",{name:y});return E.forEach(O=>{const P=document.createElement("option");typeof O=="object"?(O.value!==void 0&&(P.value=String(O.value)),P.textContent=O.text!==void 0?String(O.text):String(O.value??"")):P.textContent=String(O),T.append(P)}),C.append(T),w.append(C),o.append(w),T},t=(o,i,h,y)=>{const E=e("div","form__row"),w=e("label","form__label");w.append(document.createTextNode(i)),h&&w.append(r());const C=e("textarea","form__textarea",y);return h&&(C.required=!0),w.append(C),E.append(w),o.append(E),C},A=o=>{const i=e("div","form__agree"),h=document.createElement("label"),y=document.createElement("input");y.type="checkbox",y.name="consent",y.required=!0;const E=document.createElement("span");E.textContent="Соглашаюсь с обработкой персональных данных",h.append(y,E),i.append(h),o.append(i)},g=o=>{const i=e("div","form__actions"),h=e("button","button button--primary",{type:"submit"},"Отправить");i.append(h),o.append(i)},l=(o,i)=>{const h=e("input",null,{type:"hidden",name:"type",value:i}),y=e("input",null,{type:"hidden",name:"page",value:""}),E=e("input",null,{type:"hidden",name:"_subject",value:s[i]||"AQUANIKA"}),w=e("input",null,{type:"text",name:"_gotcha",tabindex:"-1",autocomplete:"off",style:"display:none"});o.append(h,y,E,w)},f=(o,i,h)=>{const y=e("div","forms-modal",{"data-modal":o,"aria-hidden":"true",role:"dialog","aria-modal":"true"}),E=e("div","forms-modal__content"),w=e("button","forms-modal__close",{"aria-label":"Закрыть"},"×"),C=e("h3","forms-modal__title",{},i),T=e("form","modal__form",{action:"https://formspree.io/f/mgvnzqgl",method:"POST"});l(T,o),h(T),A(T),g(T),E.append(w,C,T),y.append(E),a.append(y)};f("callback","Заказать звонок",o=>{d(o,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),d(o,"Телефон",!0,{type:"tel",name:"phone",placeholder:"+7 (___) ___-__-__"}),p(o,"Удобное время",!1,"preferred_time",[{value:"",text:"Не важно"},{value:"10:00 - 12:00"},{value:"12:00 - 15:00"},{value:"15:00 - 18:00"},{value:"18:00 - 21:00"}]),t(o,"Комментарий",!1,{name:"message",rows:"4",placeholder:"Опишите вопрос"})}),f("question","Задать вопрос",o=>{d(o,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),d(o,"Email",!1,{type:"email",name:"email",placeholder:"name@example.com"}),d(o,"��елефон",!1,{type:"tel",name:"phone",placeholder:"+7 (___) ___-__-__"}),t(o,"Сообщение",!0,{name:"message",rows:"5",placeholder:"Ваш вопрос"})}),f("review","Оставить отзыв",o=>{d(o,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),p(o,"Оценка",!1,"rating",[{value:"",text:"—"},{value:"5"},{value:"4"},{value:"3"},{value:"2"},{value:"1"}]),t(o,"Отзыв",!0,{name:"message",rows:"5",placeholder:"Ваш отзыв"})}),document.body.appendChild(a)}function Re(){const e=window.innerWidth-document.documentElement.clientWidth;document.body.dataset.prevOverflow=document.body.style.overflow||"",document.body.dataset.prevPaddingRight=document.body.style.paddingRight||"",document.body.style.overflow="hidden",e>0&&(document.body.style.paddingRight=e+"px")}function Pe(){document.body.style.overflow=document.body.dataset.prevOverflow||"",document.body.style.paddingRight=document.body.dataset.prevPaddingRight||"",delete document.body.dataset.prevOverflow,delete document.body.dataset.prevPaddingRight}function We(){document.querySelectorAll('#formsModalOverlay form input[name="page"]').forEach(a=>a.value=window.location.href)}function ie(e){const a=document.getElementById("formsModalOverlay");if(!a)return;We(),a.querySelectorAll(".forms-modal").forEach(d=>d.setAttribute("aria-hidden","true"));const r=a.querySelector(`.forms-modal[data-modal="${e}"]`);r&&(a.classList.add("is-open"),r.setAttribute("aria-hidden","false"),Re())}function le(){const e=document.getElementById("formsModalOverlay");e&&(e.classList.remove("is-open"),e.querySelectorAll(".forms-modal").forEach(a=>a.setAttribute("aria-hidden","true")),Pe())}function He(){const e=document.getElementById("formsModalOverlay");e&&(e.addEventListener("click",a=>{a.target===e&&le()}),e.addEventListener("click",a=>{a.target.closest(".forms-modal__close")&&le()}),document.addEventListener("keydown",a=>{a.key==="Escape"&&e.classList.contains("is-open")&&le()}),document.addEventListener("click",a=>{const s=a.target.closest(".sidebar__button");if(s&&s.dataset.action){a.preventDefault(),ie(s.dataset.action);return}if(a.target.closest(".contacts-message-btn")){a.preventDefault(),ie("question");return}if(a.target.closest(".mobile-nav__action-btn")){a.preventDefault(),ie("question");return}}))}function $e(){Ee||(Te(),He(),Ee=!0,console.log("Модальные формы инициализированы"))}async function _e(e,a){var s;try{const r=a.startsWith("/")?`${ge}${a}`:`${ge}/${a}`,d=await fetch(r);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const p=await d.text(),t=document.getElementById(e);if(t)try{const A=window.sanitizeHTML?window.sanitizeHTML(p):p,g=document.createElement("template");g.innerHTML=A,t.replaceChildren(),t.append(g.content.cloneNode(!0));try{(s=window.secureExternalLinks)==null||s.call(window,t)}catch{}}catch{const g=document.createElement("template");g.innerHTML=p,t.replaceChildren(),t.append(g.content.cloneNode(!0))}else console.warn(`Элемент с ID ${e} не найден`)}catch(r){console.error(`Ошибка при загрузке компонента ${a}:`,r)}}class De{constructor(){this.sidebar=document.querySelector(".mobile-nav__sidebar"),this.slides=document.querySelector(".mobile-nav__slides"),this.mainSlide=document.querySelector(".mobile-nav__slide-main"),this.submenuSlide=document.querySelector(".mobile-nav__slide-submenu"),this.menuBtn=document.querySelector(".mobile-nav__menu-btn"),this.closeBtn=document.querySelector(".mobile-nav__close"),this.backBtn=document.querySelector(".mobile-nav__back"),this.servicesBtn=document.querySelector(".mobile-nav__category-btn"),this.categoriesList=document.querySelector(".mobile-nav__categories"),this.subcategoryBtns=document.querySelectorAll(".mobile-nav__subcategory-btn"),this.submenus=document.querySelectorAll(".mobile-nav__subsubmenu"),this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.toggleMenu=this.toggleMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleCategories=this.toggleCategories.bind(this),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.initEventListeners()}initEventListeners(){this.menuBtn.addEventListener("click",this.toggleMenu),this.closeBtn.addEventListener("click",this.closeMenu),this.servicesBtn.addEventListener("click",this.toggleCategories),this.subcategoryBtns.forEach(a=>{a.addEventListener("click",()=>{const s=a.dataset.category;this.showSubmenu(s)})}),this.backBtn.addEventListener("click",this.hideSubmenu),document.addEventListener("click",this.handleClickOutside),this.sidebar.addEventListener("click",a=>{a.target.closest("a")&&this.closeMenu()}),this.addInteractiveEffects()}addInteractiveEffects(){this.sidebar.querySelectorAll("a, button").forEach(s=>{s.addEventListener("mouseenter",()=>{s.style.transition="all 0.2s ease",s.style.transform="translateY(-1px)"}),s.addEventListener("mouseleave",()=>{s.style.transform="translateY(0)"}),s.addEventListener("mousedown",()=>{s.style.transform="translateY(1px)"}),s.addEventListener("mouseup",()=>{s.style.transform="translateY(-1px)"})})}toggleMenu(){this.isOpen?this.closeMenu():this.openMenu()}openMenu(){this.isOpen=!0,this.sidebar.classList.add("is-open"),document.body.style.overflow="hidden"}closeMenu(){this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.sidebar.classList.remove("is-open"),this.slides.classList.remove("show-submenu"),this.servicesBtn.classList.remove("is-open"),this.categoriesList.classList.remove("is-open"),document.body.style.overflow=""}toggleCategories(){this.isCategoriesOpen=!this.isCategoriesOpen,this.servicesBtn.classList.toggle("is-open"),this.categoriesList.classList.toggle("is-open")}showSubmenu(a){this.isSubmenuOpen=!0,this.slides.classList.add("show-submenu"),this.submenus.forEach(s=>{s.dataset.category===a?s.classList.add("is-active"):s.classList.remove("is-active")})}hideSubmenu(){this.isSubmenuOpen=!1,this.slides.classList.remove("show-submenu"),this.submenus.forEach(a=>{a.classList.remove("is-active")})}handleClickOutside(a){this.isOpen&&!this.sidebar.contains(a.target)&&!this.menuBtn.contains(a.target)&&this.closeMenu()}}class je{constructor(){this.init()}init(){console.log("Инициализация форм"),document.querySelectorAll('form:not([data-form-initialized="true"])').forEach(g=>{g.addEventListener("submit",s),g.dataset.formInitialized="true"});async function s(g){g.preventDefault();const l=g.target,f=l.querySelector('[type="submit"]'),o=new FormData(l);if(Object.fromEntries(o.entries()),!!r(l))try{f.classList.add("button--loading"),f.disabled=!0;const i=await A(l);t(l,"Сообщение отправлено успешно!","success"),l.reset()}catch(i){t(l,"Произошла ошибка. Попробуйте позже.","error"),console.error("Form submission error:",i)}finally{f.classList.remove("button--loading"),f.disabled=!1}}function r(g){const l=g.querySelectorAll("input, textarea");let f=!0;return l.forEach(o=>{p(o),o.required&&!o.value.trim()&&(d(o,"Это поле обязательно для заполнения"),f=!1),o.type==="email"&&o.value&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)||(d(o,"Введите корректный email"),f=!1)),o.type==="tel"&&o.value&&(/^\+?[0-9\s-()]{10,}$/.test(o.value)||(d(o,"Введите корректный номер телефона"),f=!1))}),f}function d(g,l){const f=document.createElement("div");f.className="form__error",f.textContent=l,g.classList.add("input--error"),g.parentNode.appendChild(f)}function p(g){const l=g.parentNode.querySelector(".form__error");l&&l.remove(),g.classList.remove("input--error")}function t(g,l,f){const o=document.createElement("div");o.className=`form__message form__message--${f}`,o.textContent=l;const i=g.querySelector(".form__message");i&&i.remove(),g.appendChild(o),setTimeout(()=>{o.remove()},5e3)}async function A(g){const l=g.getAttribute("action")||"/api/send-form",f=(g.getAttribute("method")||"POST").toUpperCase(),o=new FormData(g);if(l.includes("formspree.io")){const y=await fetch(l,{method:f,body:o,headers:{Accept:"application/json"}});if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);try{return await y.json()}catch{return{}}}const i=Object.fromEntries(o.entries()),h=await fetch(l,{method:f,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return await h.json()}}}function Ve(){return console.log("Запуск инициализации форм"),new je}window.initVideoModal=Ne;window.initGalleryModal=Fe;window.initForms=Ve;window.sanitizeHTML=window.sanitizeHTML||(e=>e);function Ue(){if(document.getElementById("cookieBannerStyles"))return;const e=document.createElement("style");e.id="cookieBannerStyles",e.textContent=`
  .cookie-banner { position: fixed; left: 16px; right: 16px; bottom: 16px; z-index: 1100; display: flex; gap: 16px; align-items: flex-start; padding: 16px; background: var(--color-background, #fff); color: var(--color-dark, #222); border: 1px solid var(--color-border, #e0e0e0); border-radius: 12px; box-shadow: var(--shadow-lg, 0 10px 30px rgba(0,0,0,.15)); max-width: 960px; margin: 0 auto; }
  .cookie-banner__text { flex: 1; line-height: 1.5; font-size: 14px; }
  .cookie-banner__actions { display: flex; gap: 12px; flex-wrap: wrap; }
  .cookie-banner__link { color: var(--color-secondary, #a78b3d); text-decoration: underline; }
  .cookie-banner__btn { white-space: nowrap; }
  @media (max-width: 640px){ .cookie-banner{ flex-direction: column; gap: 12px; padding: 12px; } }
  `,document.head.appendChild(e)}function Ke(){if(document.getElementById("cookieBanner"))return;const e=document.createElement("div");e.id="cookieBanner",e.className="cookie-banner",e.setAttribute("role","region"),e.setAttribute("aria-label","Уведомление об использовании cookies");const a=document.createElement("p");a.className="cookie-banner__text";const s=document.createElement("span");s.textContent="Мы обрабатываем cookies, чтобы пользоваться сайтом было удобнее. Вы можете запретить обработку cookies в настройках браузера. Пожалуйста, ознакомьтесь с ";const r=document.createElement("a");r.className="cookie-banner__link",r.href="/privacy",r.textContent="политикой конфиденциальности",r.setAttribute("rel","noopener"),r.setAttribute("target","_self");const d=document.createElement("span");d.textContent=".",a.append(s,r,d);const p=document.createElement("div");p.className="cookie-banner__actions";const t=document.createElement("button");t.className="button button--primary cookie-banner__btn",t.type="button",t.textContent="Понятно",t.addEventListener("click",()=>{try{localStorage.setItem("cookieConsent","accepted")}catch{}e.remove()}),p.append(t),e.append(a,p),document.body.appendChild(e)}function Qe(){try{if(localStorage.getItem("cookieConsent")==="accepted")return}catch{}Ue(),Ke()}async function Ye(){try{document.getElementById("header-placeholder")&&await _e("header-placeholder","/components/partials/header.html"),document.getElementById("footer-placeholder")&&await _e("footer-placeholder","/components/partials/footer.html")}catch(e){console.warn("Layout components loading failed:",e)}}document.addEventListener("DOMContentLoaded",async()=>{console.log("🚀 Aqvanika loaded in",window.location.hostname.includes("github.io")?"GitHub Pages":window.location.hostname==="localhost"?"Local development":"Production","mode"),await Promise.all([Ye(),new Promise(e=>{new De,e()})]);try{$e()}catch(e){console.warn("initFormsModals failed",e)}try{Qe()}catch(e){console.warn("initCookieBanner failed",e)}Oe()});
//# sourceMappingURL=main-DgYibSft.js.map
