{"version":3,"file":"carousel-B1iX4gyj.js","sources":["../../src/js/components/carousel.js"],"sourcesContent":["// Карусель\r\nexport class Carousel {\r\n  constructor(element) {\r\n    this.element = element;\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Получаем элементы контейнера, слайдов и кнопок управления\r\n    const container = this.element.querySelector(\".promo-carousel__container\");\r\n    const slides = this.element.querySelectorAll(\".promo-carousel__slide\");\r\n    const controls = this.element.querySelector(\".promo-carousel__controls\");\r\n\r\n    let currentSlide = 0;\r\n    let isTransitioning = false;\r\n    let autoplayInterval;\r\n\r\n    // Создаем точки навигации\r\n    slides.forEach((_, index) => {\r\n      const dot = document.createElement(\"button\");\r\n      dot.className = `promo-carousel__dot ${\r\n        index === 0 ? \"promo-carousel__dot--active\" : \"\"\r\n      }`;\r\n      dot.addEventListener(\"click\", () => this.goToSlide(index));\r\n      controls.appendChild(dot);\r\n    });\r\n\r\n    // Создаем кнопки навигации\r\n    // const prevButton = document.createElement(\"button\");\r\n    // prevButton.className = \"promo-carousel__arrow promo-carousel__arrow--prev\";\r\n    // prevButton.innerHTML = \"←\";\r\n    // prevButton.addEventListener(\"click\", () => this.prev());\r\n\r\n    // const nextButton = document.createElement(\"button\");\r\n    // nextButton.className = \"promo-carousel__arrow promo-carousel__arrow--next\";\r\n    // nextButton.innerHTML = \"→\";\r\n    // nextButton.addEventListener(\"click\", () => this.next());\r\n\r\n    // this.element.appendChild(prevButton);\r\n    // this.element.appendChild(nextButton);\r\n\r\n    // Функция перехода к слайду\r\n    this.goToSlide = function (index) {\r\n      if (isTransitioning || index === currentSlide) return;\r\n\r\n      isTransitioning = true;\r\n      const dots = controls.querySelectorAll(\".promo-carousel__dot\");\r\n\r\n      // Обновляем активную точку\r\n      dots[currentSlide].classList.remove(\"promo-carousel__dot--active\");\r\n      dots[index].classList.add(\"promo-carousel__dot--active\");\r\n\r\n      // Анимируем переход\r\n      container.style.transform = `translateX(-${index * 100}%)`;\r\n      currentSlide = index;\r\n\r\n      // Сбрасываем флаг анимации\r\n      setTimeout(() => {\r\n        isTransitioning = false;\r\n      }, 300);\r\n    };\r\n\r\n    // Функция перехода к предыдущему слайду\r\n    this.prev = function () {\r\n      const index = currentSlide === 0 ? slides.length - 1 : currentSlide - 1;\r\n      this.goToSlide(index);\r\n    };\r\n\r\n    // Функция перехода к следующему слайду\r\n    this.next = function () {\r\n      const index = currentSlide === slides.length - 1 ? 0 : currentSlide + 1;\r\n      this.goToSlide(index);\r\n    };\r\n\r\n    // Автопереключение слайдов\r\n    this.startAutoplay = function () {\r\n      autoplayInterval = setInterval(() => this.next(), 10000);\r\n    };\r\n\r\n    this.stopAutoplay = function () {\r\n      clearInterval(autoplayInterval);\r\n    };\r\n\r\n    // Обработчики событий для остановки автопереключения при взаимодействии\r\n    this.element.addEventListener(\"mouseenter\", () => this.stopAutoplay());\r\n    this.element.addEventListener(\"mouseleave\", () => this.startAutoplay());\r\n    this.element.addEventListener(\"touchstart\", () => this.stopAutoplay());\r\n    this.element.addEventListener(\"touchend\", () => this.startAutoplay());\r\n\r\n    // Запускаем автопереключение\r\n    this.startAutoplay();\r\n\r\n    // Обработка свайпов на мобильных устройствах\r\n    let touchStartX = 0;\r\n    let touchEndX = 0;\r\n\r\n    this.element.addEventListener(\"touchstart\", (e) => {\r\n      touchStartX = e.touches[0].clientX;\r\n    });\r\n\r\n    this.element.addEventListener(\"touchmove\", (e) => {\r\n      touchEndX = e.touches[0].clientX;\r\n    });\r\n\r\n    this.element.addEventListener(\"touchend\", () => {\r\n      const swipeDistance = touchEndX - touchStartX;\r\n      if (Math.abs(swipeDistance) > 50) {\r\n        if (swipeDistance > 0) {\r\n          this.prev();\r\n        } else {\r\n          this.next();\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// Функция инициализации\r\nexport function initCarousel(element) {\r\n  return new Carousel(element);\r\n}\r\n"],"names":["Carousel","element","container","slides","controls","currentSlide","isTransitioning","autoplayInterval","_","index","dot","dots","touchStartX","touchEndX","e","swipeDistance","initCarousel"],"mappings":"AACO,MAAMA,CAAS,CACpB,YAAYC,EAAS,CACnB,KAAK,QAAUA,EACf,KAAK,KAAI,CACb,CAEE,MAAO,CAEL,MAAMC,EAAY,KAAK,QAAQ,cAAc,4BAA4B,EACnEC,EAAS,KAAK,QAAQ,iBAAiB,wBAAwB,EAC/DC,EAAW,KAAK,QAAQ,cAAc,2BAA2B,EAEvE,IAAIC,EAAe,EACfC,EAAkB,GAClBC,EAGJJ,EAAO,QAAQ,CAACK,EAAGC,IAAU,CAC3B,MAAMC,EAAM,SAAS,cAAc,QAAQ,EAC3CA,EAAI,UAAY,uBACdD,IAAU,EAAI,8BAAgC,EACtD,GACMC,EAAI,iBAAiB,QAAS,IAAM,KAAK,UAAUD,CAAK,CAAC,EACzDL,EAAS,YAAYM,CAAG,CAC9B,CAAK,EAiBD,KAAK,UAAY,SAAUD,EAAO,CAChC,GAAIH,GAAmBG,IAAUJ,EAAc,OAE/CC,EAAkB,GAClB,MAAMK,EAAOP,EAAS,iBAAiB,sBAAsB,EAG7DO,EAAKN,CAAY,EAAE,UAAU,OAAO,6BAA6B,EACjEM,EAAKF,CAAK,EAAE,UAAU,IAAI,6BAA6B,EAGvDP,EAAU,MAAM,UAAY,eAAeO,EAAQ,GAAG,KACtDJ,EAAeI,EAGf,WAAW,IAAM,CACfH,EAAkB,EAC1B,EAAS,GAAG,CACZ,EAGI,KAAK,KAAO,UAAY,CACtB,MAAMG,EAAQJ,IAAiB,EAAIF,EAAO,OAAS,EAAIE,EAAe,EACtE,KAAK,UAAUI,CAAK,CAC1B,EAGI,KAAK,KAAO,UAAY,CACtB,MAAMA,EAAQJ,IAAiBF,EAAO,OAAS,EAAI,EAAIE,EAAe,EACtE,KAAK,UAAUI,CAAK,CAC1B,EAGI,KAAK,cAAgB,UAAY,CAC/BF,EAAmB,YAAY,IAAM,KAAK,KAAI,EAAI,GAAK,CAC7D,EAEI,KAAK,aAAe,UAAY,CAC9B,cAAcA,CAAgB,CACpC,EAGI,KAAK,QAAQ,iBAAiB,aAAc,IAAM,KAAK,aAAY,CAAE,EACrE,KAAK,QAAQ,iBAAiB,aAAc,IAAM,KAAK,cAAa,CAAE,EACtE,KAAK,QAAQ,iBAAiB,aAAc,IAAM,KAAK,aAAY,CAAE,EACrE,KAAK,QAAQ,iBAAiB,WAAY,IAAM,KAAK,cAAa,CAAE,EAGpE,KAAK,cAAa,EAGlB,IAAIK,EAAc,EACdC,EAAY,EAEhB,KAAK,QAAQ,iBAAiB,aAAeC,GAAM,CACjDF,EAAcE,EAAE,QAAQ,CAAC,EAAE,OACjC,CAAK,EAED,KAAK,QAAQ,iBAAiB,YAAcA,GAAM,CAChDD,EAAYC,EAAE,QAAQ,CAAC,EAAE,OAC/B,CAAK,EAED,KAAK,QAAQ,iBAAiB,WAAY,IAAM,CAC9C,MAAMC,EAAgBF,EAAYD,EAC9B,KAAK,IAAIG,CAAa,EAAI,KACxBA,EAAgB,EAClB,KAAK,KAAI,EAET,KAAK,KAAI,EAGnB,CAAK,CACL,CACA,CAGO,SAASC,EAAaf,EAAS,CACpC,OAAO,IAAID,EAASC,CAAO,CAC7B"}