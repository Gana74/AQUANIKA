{"version":3,"mappings":"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","names":["basePath","isGitHubPages","routes","pagesWithSideMenu","pageTitles","loadComponent","path","url","res","extractPageContent","html","doc","mainEl","e","getRoute","loadPage","route","htmlPath","showSideMenu","rawContent","pageContent","sideMenu","sideMenuModule","__vitePreload","err","initPageComponents","error","navigateTo","cleanPath","fullPath","handleLocation","handleNavigation","link","handleRedirects","redirectPath","currentPath","initRouter","initSideMenu","sideMenuLinks","mainContent","handleSideMenuClick","setupMobileMenu","handleScreenChange","mediaQuery","href"],"ignoreList":[],"sources":["../../src/js/components/router.js","../../src/js/components/sideMenu.js"],"sourcesContent":["// ==============  router.js  ==============\n// Умное определение basePath для всех окружений\nexport const basePath = (() => {\n  // Если GitHub Pages\n  if (window.location.hostname.includes(\"github.io\")) {\n    return \"/AQUANIKA\";\n  }\n  // Если локальная разработка с Vite\n  if (window.location.hostname === \"localhost\") {\n    return \"/AQUANIKA\";\n  }\n  // Для продакшена на собственном домене\n  return \"\";\n})();\n\n// Флаг для определения типа окружения\nexport const isGitHubPages = window.location.hostname.includes(\"github.io\");\nexport const isLocal = window.location.hostname === \"localhost\";\n\n// Маршруты: ключ — «чистый» pathname, значение — файл страницы\nexport const routes = {\n  \"/\": \"/pages/home.html\",\n  \"/about\": \"/pages/about.html\",\n  \"/team\": \"/pages/team.html\",\n  \"/reviews\": \"/pages/reviews.html\",\n  \"/vacancies\": \"/pages/vacancies.html\",\n  \"/gallery\": \"/pages/gallery.html\",\n  \"/prices\": \"/pages/prices.html\",\n  \"/promotions\": \"/pages/promotions.html\",\n  \"/contacts\": \"/pages/contacts.html\",\n\n  \"/services/spa\": \"/pages/spa-and-massage.html\",\n  \"/services/aquanika\": \"/pages/aquanika-massage.html\",\n  \"/services/massage\": \"/pages/massage.html\",\n  \"/services/wrapping\": \"/pages/wrapping.html\",\n\n  \"/services/epilation\": \"/pages/epilation.html\",\n  \"/services/epilation/laser\": \"/pages/laser-epilation.html\",\n  \"/services/epilation/sugaring\": \"/pages/sugaring.html\",\n\n  \"/services/brows\": \"/pages/brows-and-lashes.html\",\n  \"/services/brows/architecture\": \"/pages/brows-architecture.html\",\n  \"/services/brows/extensions\": \"/pages/brows-extensions.html\",\n  \"/services/nails\": \"/pages/manicure-pedicure.html\",\n  \"/services/nails/manicure\": \"/pages/manicure.html\",\n  \"/services/nails/pedicure\": \"/pages/pedicure.html\",\n  \"/services/nails/extensions\": \"/pages/nails-extensions.html\",\n  \"/services/cosmetology\": \"/pages/cosmetology.html\",\n  \"/services/cosmetology/face-care\": \"/pages/face-care.html\",\n  \"/services/cosmetology/injections\": \"/pages/injections.html\",\n  \"/services/cosmetology/tattoo-removal\": \"/pages/tattoo-removal.html\",\n  \"/services/hairdressing\": \"/pages/hairdressing.html\",\n  \"/services/hairdressing/haircuts\": \"/pages/haircuts.html\",\n  \"/services/hairdressing/coloring\": \"/pages/hair-coloring.html\",\n  \"/services/hairdressing/styling\": \"/pages/hair-styling.html\",\n  \"/services/makeup\": \"/pages/makeup.html\",\n  \"/services/men\": \"/pages/men-services.html\",\n  \"/services/men/haircut\": \"/pages/men-haircut.html\",\n  \"/services/men/epilation\": \"/pages/men-epilation.html\",\n  \"/services/men/manicure\": \"/pages/men-manicure.html\",\n};\n\n// Страницы, где нужно показывать боковое меню\nconst pagesWithSideMenu = [\n  \"/about\",\n  \"/team\",\n  \"/reviews\",\n  \"/vacancies\",\n  \"/gallery\",\n];\n\n// Заголовки страниц\nconst pageTitles = {\n  \"/\": \"Aquanika – салон красоты премиум-класса\",\n  \"/about\": \"О нас – Aquanika\",\n  \"/team\": \"Наша команда – Aquanika\",\n  \"/reviews\": \"Отзывы – Aquanika\",\n  \"/vacancies\": \"Вакансии – Aquanika\",\n  \"/gallery\": \"Галерея – Aquanika\",\n  \"/prices\": \"Цены – Aquanika\",\n  \"/promotions\": \"Акции – Aquanika\",\n  \"/contacts\": \"Контакты – Aquanika\",\n  \"/services/spa\": \"SPA и массаж – Aquanika\",\n  \"/services/aquanika\": \"Подводно-вакуумный массаж 'Акваника' – Aquanika\",\n  \"/services/massage\": \"Массаж – Aquanika\",\n  \"/services/wrapping\": \"Обертывания – Aquanika\",\n\n  \"/services/epilation\": \"Эпиляция – Aquanika\",\n  \"/services/epilation/laser\": \"Лазерная эпиляция – Aquanika\",\n  \"/services/epilation/sugaring\": \"Шугаринг – Aquanika\",\n  \"/services/brows\": \"Брови и ресницы – Aquanika\",\n  \"/services/brows/architecture\": \"Брови — Архитектура – Aquanika\",\n  \"/services/brows/extensions\": \"Ресницы — Наращивание – Aquanika\",\n  \"/services/nails\": \"Ногтевой сервис – Aquanika\",\n  \"/services/nails/manicure\": \"Маникюр – Aquanika\",\n  \"/services/nails/pedicure\": \"Педикюр – Aquanika\",\n  \"/services/nails/extensions\": \"Наращивание ногтей – Aquanika\",\n  \"/services/cosmetology\": \"Косметология – Aquanika\",\n  \"/services/cosmetology/face-care\": \"Косметология — Уход за лицом – Aquanika\",\n  \"/services/cosmetology/injections\": \"Косметология — Инъекции – Aquanika\",\n  \"/services/cosmetology/tattoo-removal\":\n    \"Косметология — Выведение татуажа – Aquanika\",\n  \"/services/hairdressing\": \"Парикмахерские услуги – Aquanika\",\n  \"/services/hairdressing/haircuts\": \"Стрижки – Aquanika\",\n  \"/services/hairdressing/coloring\": \"Окрашивание – Aquanika\",\n  \"/services/hairdressing/styling\": \"Укладки – Aquanika\",\n  \"/services/makeup\": \"Макияж – Aquanika\",\n  \"/services/men\": \"Услуги для мужчин – Aquanika\",\n  \"/services/men/haircut\": \"Для мужчин — Стрижка – Aquanika\",\n  \"/services/men/epilation\": \"Для мужчин — Эпиляция – Aquanika\",\n  \"/services/men/manicure\": \"Для мужчин — Маникюр – Aquanika\",\n};\n\n// ---------------- helpers ----------------\n// Умная загрузка компонентов для всех окружений\nasync function loadComponent(path) {\n  // Всегда добавляем basePath для абсолютных путей\n  let url = path;\n  if (path.startsWith(\"/\")) {\n    url = `${basePath}${path}`;\n  }\n\n  const res = await fetch(url);\n  if (!res.ok) throw new Error(`HTTP ${res.status} – ${url}`);\n  return res.text();\n}\n\n// Извлекает только содержимое основной части страницы, исключая теги из <head>\nfunction extractPageContent(html) {\n  try {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, \"text/html\");\n    // Предпочитаем содержимое <main>\n    const mainEl = doc.querySelector(\"main\");\n    if (mainEl) return mainEl.innerHTML;\n    // Fallback на <body>\n    if (doc.body) return doc.body.innerHTML;\n  } catch (e) {\n    console.warn(\"HTML parse failed, using raw content\", e);\n  }\n  // Если парсинг не удался — возвращаем как есть\n  return html;\n}\n\n// ---------------- routing ----------------\n// Определяет актуальный «чистый» маршрут\nexport function getRoute() {\n  let path = window.location.pathname;\n\n  // Убираем basePath если он присутствует\n  if (basePath && path.startsWith(basePath)) {\n    path = path.slice(basePath.length);\n  }\n\n  return path || \"/\";\n}\n\n// Загружает контент нужной страницы\nexport async function loadPage(route) {\n  const htmlPath = routes[route] || routes[\"/\"];\n  const showSideMenu = pagesWithSideMenu.includes(route);\n\n  document.title = pageTitles[route] || \"Aquanika\";\n\n  try {\n    const rawContent = await loadComponent(htmlPath);\n    const pageContent = extractPageContent(rawContent);\n\n    if (showSideMenu) {\n      const sideMenu = await loadComponent(\n        \"/components/partials/side-menu.html\"\n      );\n      document.querySelector(\"main\").innerHTML = `\n        <div class=\"page-with-sidebar\">\n          ${sideMenu}\n          <div class=\"page-content\">${pageContent}</div>\n        </div>`;\n\n      // Динамический импорт sideMenu.js\n      try {\n        const sideMenuModule = await import(\"./sideMenu.js\");\n        if (sideMenuModule.initSideMenu) {\n          sideMenuModule.initSideMenu();\n        } else if (\n          sideMenuModule.default &&\n          sideMenuModule.default.initSideMenu\n        ) {\n          sideMenuModule.default.initSideMenu();\n        }\n      } catch (err) {\n        console.warn(\"sideMenu.js not available:\", err);\n      }\n    } else {\n      document.querySelector(\"main\").innerHTML = pageContent;\n    }\n\n    // Инициализация компонентов после загрузки страницы\n    initPageComponents();\n  } catch (error) {\n    console.error(\"Ошибка загрузки страницы:\", error);\n    // Fallback на главную страницу\n    if (route !== \"/\") {\n      navigateTo(\"/\");\n    }\n  }\n}\n\n// Функция для программного перехода\nexport function navigateTo(path) {\n  const cleanPath = path.startsWith(\"/\") ? path : \"/\" + path;\n  const fullPath = basePath + cleanPath;\n  window.history.pushState({}, \"\", fullPath);\n  handleLocation();\n}\n\n// Сделайте navigateTo доступной глобально для использования в sideMenu.js\nwindow.navigateTo = navigateTo;\n\n// Переход по истории браузера\nfunction handleLocation() {\n  loadPage(getRoute());\n}\n\n// Клик по внутренним ссылкам\nfunction handleNavigation(e) {\n  const link = e.target.closest(\"a\");\n  if (!link) return;\n\n  const url = new URL(link.href);\n  if (url.origin !== window.location.origin || link.closest(\".side-menu\"))\n    return;\n\n  e.preventDefault();\n  navigateTo(url.pathname.replace(basePath, \"\") || \"/\");\n}\n\n// Функция для обработки редиректов\nexport function handleRedirects() {\n  // Для GitHub Pages - проверяем sessionStorage\n  if (isGitHubPages) {\n    const redirectPath = sessionStorage.getItem(\"redirectPath\");\n    if (redirectPath) {\n      console.log(\"GitHub Pages редирект:\", redirectPath);\n      sessionStorage.removeItem(\"redirectPath\");\n      if (routes[redirectPath]) {\n        navigateTo(redirectPath);\n        return true;\n      }\n    }\n  }\n\n  // Для всех окружений - проверяем текущий URL\n  const currentPath = window.location.pathname;\n  let cleanPath = currentPath;\n\n  if (basePath && currentPath.startsWith(basePath)) {\n    cleanPath = currentPath.slice(basePath.length);\n  }\n\n  // Если путь не корневой и не заканчивается на .html, но есть в маршрутах\n  if (cleanPath !== \"/\" && !cleanPath.endsWith(\".html\") && routes[cleanPath]) {\n    console.log(\"Прямой переход по ссылке:\", cleanPath);\n    navigateTo(cleanPath);\n    return true;\n  }\n\n  return false;\n}\n\n// Инициализация компонентов страницы\nfunction initPageComponents() {\n  // Инициализация каруселей, форм и других компонентов\n  if (typeof window.initCarousels === \"function\") {\n    window.initCarousels();\n  }\n  if (typeof window.initForms === \"function\") {\n    window.initForms();\n  }\n  // Инициализация видео-модалки после вставки контента страницы\n  if (typeof window.initVideoModal === \"function\") {\n    window.initVideoModal();\n  }\n}\n\n// ---------------- init ----------------\nexport function initRouter() {\n  // Обрабатываем редиректы\n  const hasRedirect = handleRedirects();\n\n  if (!hasRedirect) {\n    // Инициализируем обычный роутинг\n    document.addEventListener(\"click\", handleNavigation);\n    window.addEventListener(\"popstate\", handleLocation);\n    handleLocation();\n  }\n}\n\n// Экспорт для использования в других модулях\nexport default {\n  basePath,\n  routes,\n  getRoute,\n  loadPage,\n  navigateTo,\n  handleRedirects,\n  initRouter,\n};\n","import { routes, basePath } from \"./router.js\";\r\n\r\n// Управление боковым меню\r\nexport function initSideMenu() {\r\n  // Определение текущей страницы\r\n  const currentPath = window.location.pathname.replace(basePath, \"\") || \"/\";\r\n  const sideMenuLinks = document.querySelectorAll(\".side-menu__link\");\r\n  const mainContent = document.querySelector(\"main\");\r\n\r\n  // Добавление класса active для текущей страницы и обработчиков событий\r\n  sideMenuLinks.forEach((link) => {\r\n    if (link.getAttribute(\"href\") === currentPath) {\r\n      link.classList.add(\"active\");\r\n    }\r\n\r\n    // Удаляем старые обработчики перед добавлением новых\r\n    link.removeEventListener(\"click\", handleSideMenuClick);\r\n    // Добавляем обработчик клика для каждой ссылки\r\n    link.addEventListener(\"click\", handleSideMenuClick);\r\n  });\r\n\r\n  // Добавление класса для контента\r\n  if (mainContent) {\r\n    mainContent.classList.add(\"with-side-menu\");\r\n    // Настраиваем поведение для мобильных устройств\r\n    setupMobileMenu(mainContent);\r\n  }\r\n}\r\n\r\n// Показ/скрытие меню на мобильных устройствах\r\nfunction setupMobileMenu(mainContent) {\r\n  const sideMenu = document.querySelector(\".side-menu\");\r\n  if (sideMenu) {\r\n    const mediaQuery = window.matchMedia(\"(max-width: 992px)\");\r\n\r\n    function handleScreenChange(e) {\r\n      if (e.matches) {\r\n        // Мобильная версия\r\n        mainContent.classList.remove(\"with-side-menu\");\r\n      } else {\r\n        // Десктопная версия\r\n        mainContent.classList.add(\"with-side-menu\");\r\n      }\r\n    }\r\n\r\n    mediaQuery.addListener(handleScreenChange);\r\n    handleScreenChange(mediaQuery);\r\n  }\r\n}\r\n\r\n// Обработчик клика по ссылкам в боковом меню\r\nfunction handleSideMenuClick(e) {\r\n  e.preventDefault();\r\n  const href = this.getAttribute(\"href\");\r\n  const pageContent = document.querySelector(\".page-content\");\r\n\r\n  // Обновляем URL без перезагрузки страницы\r\n  window.history.pushState({}, \"\", href);\r\n\r\n  // Удаляем класс active со всех ссылок\r\n  document.querySelectorAll(\".side-menu__link\").forEach((link) => {\r\n    link.classList.remove(\"active\");\r\n  });\r\n\r\n  // Добавляем класс active текущей ссылке\r\n  this.classList.add(\"active\");\r\n\r\n  // Загружаем новый контент через роутер\r\n  if (routes[href]) {\r\n    // Используем глобальную функцию navigateTo\r\n    if (typeof window.navigateTo === 'function') {\r\n      window.navigateTo(href);\r\n    } else {\r\n      // Fallback: перезагружаем страницу\r\n      window.location.href = `${basePath}${href}`;\r\n    }\r\n  } else {\r\n    console.error(\"Маршрут не найден:\", href);\r\n    if (pageContent) {\r\n      pageContent.innerHTML = \"<h1>Страница не найдена</h1>\";\r\n    }\r\n  }\r\n}"],"file":"assets/sideMenu-Bgnugg30.js"}