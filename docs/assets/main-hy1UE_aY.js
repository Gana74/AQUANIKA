/* empty css             */import{b as me,i as Be}from"./sideMenu-DxyCBO-0.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const t of f.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function r(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=r(u);fetch(u.href,f)}})();var qe={exports:{}};(function(y){(function(l,r){var s=r(l,l.document,Date);l.lazySizes=s,y.exports&&(y.exports=s)})(typeof window<"u"?window:{},function(r,s,u){var f,t;if(function(){var n,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};t=r.lazySizesConfig||r.lazysizesConfig||{};for(n in i)n in t||(t[n]=i[n])}(),!s||!s.getElementsByClassName)return{init:function(){},cfg:t,noSupport:!0};var x=s.documentElement,$=r.HTMLPictureElement,c="addEventListener",b="getAttribute",w=r[c].bind(r),v=r.setTimeout,_=r.requestAnimationFrame||v,A=r.requestIdleCallback,T=/^picture$/i,U=["load","error","lazyincluded","_lazyloaded"],V={},pe=Array.prototype.forEach,Y=function(n,i){return V[i]||(V[i]=new RegExp("(\\s|^)"+i+"(\\s|$)")),V[i].test(n[b]("class")||"")&&V[i]},G=function(n,i){Y(n,i)||n.setAttribute("class",(n[b]("class")||"").trim()+" "+i)},ie=function(n,i){var o;(o=Y(n,i))&&n.setAttribute("class",(n[b]("class")||"").replace(o," "))},se=function(n,i,o){var E=o?c:"removeEventListener";o&&se(n,i),U.forEach(function(p){n[E](p,i)})},K=function(n,i,o,E,p){var d=s.createEvent("Event");return o||(o={}),o.instance=f,d.initEvent(i,!E,!p),d.detail=o,n.dispatchEvent(d),d},ne=function(n,i){var o;!$&&(o=r.picturefill||t.pf)?(i&&i.src&&!n[b]("srcset")&&n.setAttribute("srcset",i.src),o({reevaluate:!0,elements:[n]})):i&&i.src&&(n.src=i.src)},Q=function(n,i){return(getComputedStyle(n,null)||{})[i]},ae=function(n,i,o){for(o=o||n.offsetWidth;o<t.minSize&&i&&!n._lazysizesWidth;)o=i.offsetWidth,i=i.parentNode;return o},j=function(){var n,i,o=[],E=[],p=o,d=function(){var h=p;for(p=o.length?E:o,n=!0,i=!1;h.length;)h.shift()();n=!1},L=function(h,g){n&&!g?h.apply(this,arguments):(p.push(h),i||(i=!0,(s.hidden?v:_)(d)))};return L._lsFlush=d,L}(),Z=function(n,i){return i?function(){j(n)}:function(){var o=this,E=arguments;j(function(){n.apply(o,E)})}},be=function(n){var i,o=0,E=t.throttleDelay,p=t.ricTimeout,d=function(){i=!1,o=u.now(),n()},L=A&&p>49?function(){A(d,{timeout:p}),p!==t.ricTimeout&&(p=t.ricTimeout)}:Z(function(){v(d)},!0);return function(h){var g;(h=h===!0)&&(p=33),!i&&(i=!0,g=E-(u.now()-o),g<0&&(g=0),h||g<9?L():v(L,g))}},oe=function(n){var i,o,E=99,p=function(){i=null,n()},d=function(){var L=u.now()-o;L<E?v(d,E-L):(A||p)(p)};return function(){o=u.now(),i||(i=v(d,E))}},le=function(){var n,i,o,E,p,d,L,h,g,M,O,R,Ee=/^img$/i,Le=/^iframe$/i,ze="onscroll"in r&&!/(gle|ing)bot/.test(navigator.userAgent),Ce=0,J=0,q=0,H=-1,ce=function(e){q--,(!e||q<0||!e.target)&&(q=0)},de=function(e){return R==null&&(R=Q(s.body,"visibility")=="hidden"),R||!(Q(e.parentNode,"visibility")=="hidden"&&Q(e,"visibility")=="hidden")},Se=function(e,a){var m,z=e,C=de(e);for(h-=a,O+=a,g-=a,M+=a;C&&(z=z.offsetParent)&&z!=s.body&&z!=x;)C=(Q(z,"opacity")||1)>0,C&&Q(z,"overflow")!="visible"&&(m=z.getBoundingClientRect(),C=M>m.left&&g<m.right&&O>m.top-1&&h<m.bottom+1);return C},ue=function(){var e,a,m,z,C,S,F,I,P,N,W,D,B=f.elements;if((E=t.loadMode)&&q<8&&(e=B.length)){for(a=0,H++;a<e;a++)if(!(!B[a]||B[a]._lazyRace)){if(!ze||f.prematureUnveil&&f.prematureUnveil(B[a])){X(B[a]);continue}if((!(I=B[a][b]("data-expand"))||!(S=I*1))&&(S=J),N||(N=!t.expand||t.expand<1?x.clientHeight>500&&x.clientWidth>500?500:370:t.expand,f._defEx=N,W=N*t.expFactor,D=t.hFac,R=null,J<W&&q<1&&H>2&&E>2&&!s.hidden?(J=W,H=0):E>1&&H>1&&q<6?J=N:J=Ce),P!==S&&(d=innerWidth+S*D,L=innerHeight+S,F=S*-1,P=S),m=B[a].getBoundingClientRect(),(O=m.bottom)>=F&&(h=m.top)<=L&&(M=m.right)>=F*D&&(g=m.left)<=d&&(O||M||g||h)&&(t.loadHidden||de(B[a]))&&(i&&q<3&&!I&&(E<3||H<4)||Se(B[a],S))){if(X(B[a]),C=!0,q>9)break}else!C&&i&&!z&&q<4&&H<4&&E>2&&(n[0]||t.preloadAfterLoad)&&(n[0]||!I&&(O||M||g||h||B[a][b](t.sizesAttr)!="auto"))&&(z=n[0]||B[a])}z&&!C&&X(z)}},k=be(ue),fe=function(e){var a=e.target;if(a._lazyCache){delete a._lazyCache;return}ce(e),G(a,t.loadedClass),ie(a,t.loadingClass),se(a,ve),K(a,"lazyloaded")},_e=Z(fe),ve=function(e){_e({target:e.target})},we=function(e,a){var m=e.getAttribute("data-load-mode")||t.iframeLoadMode;m==0?e.contentWindow.location.replace(a):m==1&&(e.src=a)},Ae=function(e){var a,m=e[b](t.srcsetAttr);(a=t.customMedia[e[b]("data-media")||e[b]("media")])&&e.setAttribute("media",a),m&&e.setAttribute("srcset",m)},Me=Z(function(e,a,m,z,C){var S,F,I,P,N,W;(N=K(e,"lazybeforeunveil",a)).defaultPrevented||(z&&(m?G(e,t.autosizesClass):e.setAttribute("sizes",z)),F=e[b](t.srcsetAttr),S=e[b](t.srcAttr),C&&(I=e.parentNode,P=I&&T.test(I.nodeName||"")),W=a.firesLoad||"src"in e&&(F||S||P),N={target:e},G(e,t.loadingClass),W&&(clearTimeout(o),o=v(ce,2500),se(e,ve,!0)),P&&pe.call(I.getElementsByTagName("source"),Ae),F?e.setAttribute("srcset",F):S&&!P&&(Le.test(e.nodeName)?we(e,S):e.src=S),C&&(F||P)&&ne(e,{src:S})),e._lazyRace&&delete e._lazyRace,ie(e,t.lazyClass),j(function(){var D=e.complete&&e.naturalWidth>1;(!W||D)&&(D&&G(e,t.fastLoadedClass),fe(N),e._lazyCache=!0,v(function(){"_lazyCache"in e&&delete e._lazyCache},9)),e.loading=="lazy"&&q--},!0)}),X=function(e){if(!e._lazyRace){var a,m=Ee.test(e.nodeName),z=m&&(e[b](t.sizesAttr)||e[b]("sizes")),C=z=="auto";(C||!i)&&m&&(e[b]("src")||e.srcset)&&!e.complete&&!Y(e,t.errorClass)&&Y(e,t.lazyClass)||(a=K(e,"lazyunveilread").detail,C&&re.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,q++,Me(e,a,C,z,m))}},ke=oe(function(){t.loadMode=3,k()}),he=function(){t.loadMode==3&&(t.loadMode=2),ke()},te=function(){if(!i){if(u.now()-p<999){v(te,999);return}i=!0,t.loadMode=3,k(),w("scroll",he,!0)}};return{_:function(){p=u.now(),f.elements=s.getElementsByClassName(t.lazyClass),n=s.getElementsByClassName(t.lazyClass+" "+t.preloadClass),w("scroll",k,!0),w("resize",k,!0),w("pageshow",function(e){if(e.persisted){var a=s.querySelectorAll("."+t.loadingClass);a.length&&a.forEach&&_(function(){a.forEach(function(m){m.complete&&X(m)})})}}),r.MutationObserver?new MutationObserver(k).observe(x,{childList:!0,subtree:!0,attributes:!0}):(x[c]("DOMNodeInserted",k,!0),x[c]("DOMAttrModified",k,!0),setInterval(k,999)),w("hashchange",k,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){s[c](e,k,!0)}),/d$|^c/.test(s.readyState)?te():(w("load",te),s[c]("DOMContentLoaded",k),v(te,2e4)),f.elements.length?(ue(),j._lsFlush()):k()},checkElems:k,unveil:X,_aLSL:he}}(),re=function(){var n,i=Z(function(d,L,h,g){var M,O,R;if(d._lazysizesWidth=g,g+="px",d.setAttribute("sizes",g),T.test(L.nodeName||""))for(M=L.getElementsByTagName("source"),O=0,R=M.length;O<R;O++)M[O].setAttribute("sizes",g);h.detail.dataAttr||ne(d,h.detail)}),o=function(d,L,h){var g,M=d.parentNode;M&&(h=ae(d,M,h),g=K(d,"lazybeforesizes",{width:h,dataAttr:!!L}),g.defaultPrevented||(h=g.detail.width,h&&h!==d._lazysizesWidth&&i(d,M,g,h)))},E=function(){var d,L=n.length;if(L)for(d=0;d<L;d++)o(n[d])},p=oe(E);return{_:function(){n=s.getElementsByClassName(t.autosizesClass),w("resize",p)},checkElems:p,updateElem:o}}(),ee=function(){!ee.i&&s.getElementsByClassName&&(ee.i=!0,re._(),le._())};return v(function(){t.init&&ee()}),f={cfg:t,autoSizer:re,loader:le,init:ee,uP:ne,aC:G,rC:ie,hC:Y,fire:K,gW:ae,rAF:j},f})})(qe);document.addEventListener("DOMContentLoaded",()=>{const y=document.getElementById("toTopButton");y&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?y.classList.add("show"):y.classList.remove("show")}),y.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))});const ye="/AQUANIKA/assets/home-BCn1Fb8x.mp4";function xe(){const y=document.getElementById("videoBlock"),l=document.getElementById("playButton"),r=document.getElementById("videoModal"),s=document.getElementById("aboutVideo"),u=document.getElementById("closeModal");if(!y||!l||!r||!s||!u)return;try{ye&&(s.src=ye,s.setAttribute("preload","none"))}catch(c){console.warn("Не удалось назначить src для видео:",c)}async function f(){r.style.display="block",document.body.style.overflow="hidden",document.body.style.paddingRight=x()+"px";const c=r.querySelector(".video-container")||s;try{c.requestFullscreen?await c.requestFullscreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():s.webkitEnterFullscreen&&s.webkitEnterFullscreen()}catch(b){console.warn("Fullscreen error:",b)}try{await s.play()}catch(b){console.log("Автовоспроизведение не разрешено:",b)}}async function t(){try{s.pause()}catch{}r.style.display="none",document.body.style.overflow="auto",document.body.style.paddingRight="";try{document.fullscreenElement&&document.exitFullscreen?await document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(c){console.warn("Exit fullscreen error:",c)}}function x(){return window.innerWidth-document.documentElement.clientWidth}y.addEventListener("click",function(c){c.target!==l&&!l.contains(c.target)&&f()}),l.addEventListener("click",f),u.addEventListener("click",t),r.addEventListener("click",function(c){c.target===r&&t()}),document.addEventListener("keydown",function(c){c.key==="Escape"&&r.style.display==="block"&&t()});const $=document.querySelector(".modal-content");$&&$.addEventListener("click",function(c){c.stopPropagation()}),console.log("Modal video initialized successfully")}function Oe(){const y=document,l=y.getElementById("galleryMasonry");if(!l)return;const r=y.querySelectorAll(".gallery-filter .filter-button");r.forEach(v=>{v.addEventListener("click",()=>{r.forEach(T=>T.classList.remove("active")),v.classList.add("active");const _=v.getAttribute("data-filter");l.querySelectorAll(".gallery-item").forEach(T=>{const U=T.getAttribute("data-category"),V=_==="all"||U===_;T.style.display=V?"":"none"})})});const s=y.getElementById("galleryModal");if(!s)return;const u=s.querySelector(".gallery-modal__image"),f=s.querySelector(".gallery-modal__caption"),t=s.querySelector(".gallery-modal__close"),x=s.querySelector(".gallery-modal__prev"),$=s.querySelector(".gallery-modal__next");let c=-1;const b=()=>Array.from(l.querySelectorAll(".gallery-item")).filter(v=>v.style.display!=="none");function w(v){const _=b();if(!_.length)return;c=(v+_.length)%_.length;const A=_[c].querySelector("img");u.src=A.src,u.alt=A.alt||"",f.textContent=A.alt||"",s.classList.add("is-open")}l.addEventListener("click",v=>{let _=v.target.closest("img"),A=v.target.closest(".gallery-item");if(!_&&A&&(_=A.querySelector("img")),!_||!A)return;const U=b().indexOf(A);w(U)}),t.addEventListener("click",()=>s.classList.remove("is-open")),s.addEventListener("click",v=>{v.target===s&&s.classList.remove("is-open")}),x.addEventListener("click",()=>w(c-1)),$.addEventListener("click",()=>w(c+1)),window.addEventListener("keydown",v=>{s.classList.contains("is-open")&&(v.key==="Escape"&&s.classList.remove("is-open"),v.key==="ArrowLeft"&&w(c-1),v.key==="ArrowRight"&&w(c+1))})}async function ge(y,l){try{const r=l.startsWith("/")?`${me}${l}`:`${me}/${l}`,s=await fetch(r);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const u=await s.text(),f=document.getElementById(y);f?f.innerHTML=u:console.warn(`Элемент с ID ${y} не найден`)}catch(r){console.error(`Ошибка при загрузке компонента ${l}:`,r)}}class Fe{constructor(){this.sidebar=document.querySelector(".mobile-nav__sidebar"),this.slides=document.querySelector(".mobile-nav__slides"),this.mainSlide=document.querySelector(".mobile-nav__slide-main"),this.submenuSlide=document.querySelector(".mobile-nav__slide-submenu"),this.menuBtn=document.querySelector(".mobile-nav__menu-btn"),this.closeBtn=document.querySelector(".mobile-nav__close"),this.backBtn=document.querySelector(".mobile-nav__back"),this.servicesBtn=document.querySelector(".mobile-nav__category-btn"),this.categoriesList=document.querySelector(".mobile-nav__categories"),this.subcategoryBtns=document.querySelectorAll(".mobile-nav__subcategory-btn"),this.submenus=document.querySelectorAll(".mobile-nav__subsubmenu"),this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.toggleMenu=this.toggleMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleCategories=this.toggleCategories.bind(this),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.initEventListeners()}initEventListeners(){this.menuBtn.addEventListener("click",this.toggleMenu),this.closeBtn.addEventListener("click",this.closeMenu),this.servicesBtn.addEventListener("click",this.toggleCategories),this.subcategoryBtns.forEach(l=>{l.addEventListener("click",()=>{const r=l.dataset.category;this.showSubmenu(r)})}),this.backBtn.addEventListener("click",this.hideSubmenu),document.addEventListener("click",this.handleClickOutside),this.sidebar.addEventListener("click",l=>{l.target.closest("a")&&this.closeMenu()}),this.addInteractiveEffects()}addInteractiveEffects(){this.sidebar.querySelectorAll("a, button").forEach(r=>{r.addEventListener("mouseenter",()=>{r.style.transition="all 0.2s ease",r.style.transform="translateY(-1px)"}),r.addEventListener("mouseleave",()=>{r.style.transform="translateY(0)"}),r.addEventListener("mousedown",()=>{r.style.transform="translateY(1px)"}),r.addEventListener("mouseup",()=>{r.style.transform="translateY(-1px)"})})}toggleMenu(){this.isOpen?this.closeMenu():this.openMenu()}openMenu(){this.isOpen=!0,this.sidebar.classList.add("is-open"),document.body.style.overflow="hidden"}closeMenu(){this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.sidebar.classList.remove("is-open"),this.slides.classList.remove("show-submenu"),this.servicesBtn.classList.remove("is-open"),this.categoriesList.classList.remove("is-open"),document.body.style.overflow=""}toggleCategories(){this.isCategoriesOpen=!this.isCategoriesOpen,this.servicesBtn.classList.toggle("is-open"),this.categoriesList.classList.toggle("is-open")}showSubmenu(l){this.isSubmenuOpen=!0,this.slides.classList.add("show-submenu"),this.submenus.forEach(r=>{r.dataset.category===l?r.classList.add("is-active"):r.classList.remove("is-active")})}hideSubmenu(){this.isSubmenuOpen=!1,this.slides.classList.remove("show-submenu"),this.submenus.forEach(l=>{l.classList.remove("is-active")})}handleClickOutside(l){this.isOpen&&!this.sidebar.contains(l.target)&&!this.menuBtn.contains(l.target)&&this.closeMenu()}}window.initVideoModal=xe;window.initGalleryModal=Oe;async function Ie(){try{document.getElementById("header-placeholder")&&await ge("header-placeholder","/components/partials/header.html"),document.getElementById("footer-placeholder")&&await ge("footer-placeholder","/components/partials/footer.html")}catch(y){console.warn("Layout components loading failed:",y)}}document.addEventListener("DOMContentLoaded",async()=>{console.log("🚀 Aqvanika loaded in",window.location.hostname.includes("github.io")?"GitHub Pages":window.location.hostname==="localhost"?"Local development":"Production","mode"),await Promise.all([Ie(),new Promise(y=>{new Fe,y()})]),Be()});
//# sourceMappingURL=main-hy1UE_aY.js.map
