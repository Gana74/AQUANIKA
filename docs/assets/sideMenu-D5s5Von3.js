const A="modulepreload",y=function(n){return"/AQUANIKA/"+n},v={},q=function(s,e,t){let u=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));u=Promise.allSettled(e.map(o=>{if(o=y(o),o in v)return;v[o]=!0;const d=o.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${g}`))return;const c=document.createElement("link");if(c.rel=d?"stylesheet":A,d||(c.as="script"),c.crossOrigin="",c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),d)return new Promise((w,k)=>{c.addEventListener("load",w),c.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return u.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return s().catch(r)})},l="/AQUANIKA",m={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/prices":"/pages/prices.html","/promotions":"/pages/promotions.html","/contacts":"/pages/contacts.html","/services/spa":"/pages/spa-and-massage.html","/services/laser":"/pages/laser-epilation.html","/services/brows":"/pages/brows-and-lashes.html","/services/nails":"/pages/manicure-pedicure.html","/services/cosmetology":"/pages/cosmetology.html","/services/hairdressing":"/pages/hairdressing.html","/services/makeup":"/pages/makeup.html","/services/men":"/pages/men-services.html"},S=["/about","/team","/reviews","/vacancies","/gallery"];async function p(n){const s=n.startsWith("/")?`${l}${n}`:`${l}/${n}`,e=await fetch(s);if(!e.ok)throw new Error(`HTTP ${e.status} – ${s}`);return e.text()}const L={"/":"Aqvanika – салон красоты премиум-класса","/about":"О нас – Aqvanika","/team":"Наша команда – Aqvanika","/reviews":"Отзывы – Aqvanika","/vacancies":"Вакансии – Aqvanika","/gallery":"Галерея – Aqvanika","/prices":"Цены – Aqvanika","/promotions":"Акции – Aqvanika","/contacts":"Контакты – Aqvanika","/services/spa":"SPA и массаж – Aqvanika","/services/laser":"Лазерная эпиляция – Aqvanika","/services/brows":"Брови и ресницы – Aqvanika","/services/nails":"Маникюр и педикюр – Aqvanika","/services/cosmetology":"Косметология – Aqvanika","/services/hairdressing":"Парикмахерские услуги – Aqvanika","/services/makeup":"Макияж – Aqvanika","/services/men":"Услуги для мужчин – Aqvanika"};function b(){return window.location.pathname.replace(l,"")||"/"}async function E(n){const s=m[n]||m["/"],e=S.includes(n);document.title=L[n]||"Aqvanika";const t=await p(s);if(e){const u=await p("/components/partials/side-menu.html");document.querySelector("main").innerHTML=`
      <div class="page-with-sidebar">
        ${u}
        <div class="page-content">${t}</div>
      </div>`,q(()=>Promise.resolve().then(()=>$),void 0).then(r=>{var i;return(i=r.initSideMenu)==null?void 0:i.call(r)}).catch(r=>console.error("sideMenu.js failed:",r))}else document.querySelector("main").innerHTML=t}function h(){E(b())}function M(n){const s=n.target.closest("a");if(!s)return;const e=new URL(s.href);if(e.origin!==window.location.origin||s.closest(".side-menu"))return;n.preventDefault();const t=e.pathname.replace(l,"")||"/";window.history.pushState({},"",l+t),h()}function T(){document.addEventListener("click",M),window.addEventListener("popstate",h),h()}function P(){const n=window.location.pathname.replace(l,"")||"/",s=document.querySelectorAll(".side-menu__link"),e=document.querySelector("main");s.forEach(t=>{t.getAttribute("href")===n&&t.classList.add("active"),t.removeEventListener("click",f),t.addEventListener("click",f)}),e&&(e.classList.add("with-side-menu"),_(e))}function _(n){if(document.querySelector(".side-menu")){let t=function(u){u.matches?n.classList.remove("with-side-menu"):n.classList.add("with-side-menu")};const e=window.matchMedia("(max-width: 992px)");e.addListener(t),t(e)}}function f(n){n.preventDefault();const s=this.getAttribute("href"),e=document.querySelector(".page-content");window.history.pushState({},"",s),document.querySelectorAll(".side-menu__link").forEach(t=>{t.classList.remove("active")}),this.classList.add("active"),m[s]?fetch(`${l}${m[s]}`).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.text()}).then(t=>{e&&(e.innerHTML=t)}).catch(t=>{console.error("Ошибка загрузки контента:",t),e&&(e.innerHTML="<h1>Ошибка загрузки страницы</h1>")}):(console.error("Маршрут не найден:",s),e&&(e.innerHTML="<h1>Страница не найдена</h1>"))}const $=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:P},Symbol.toStringTag,{value:"Module"}));export{T as i};
//# sourceMappingURL=sideMenu-D5s5Von3.js.map
