class d{constructor(s){this.element=s,this.init()}init(){console.log("Инициализация карусели");const s=this.element.querySelector(".promo-carousel__container"),n=this.element.querySelectorAll(".promo-carousel__slide"),a=this.element.querySelector(".promo-carousel__controls");let e=0,l=!1,c;n.forEach((t,o)=>{const i=document.createElement("button");i.className=`promo-carousel__dot ${o===0?"promo-carousel__dot--active":""}`,i.addEventListener("click",()=>this.goToSlide(o)),a.appendChild(i)}),this.goToSlide=function(t){if(l||t===e)return;l=!0;const o=a.querySelectorAll(".promo-carousel__dot");o[e].classList.remove("promo-carousel__dot--active"),o[t].classList.add("promo-carousel__dot--active"),s.style.transform=`translateX(-${t*100}%)`,e=t,setTimeout(()=>{l=!1},300)},this.prev=function(){const t=e===0?n.length-1:e-1;this.goToSlide(t)},this.next=function(){const t=e===n.length-1?0:e+1;this.goToSlide(t)},this.startAutoplay=function(){c=setInterval(()=>this.next(),1e4)},this.stopAutoplay=function(){clearInterval(c)},this.element.addEventListener("mouseenter",()=>this.stopAutoplay()),this.element.addEventListener("mouseleave",()=>this.startAutoplay()),this.element.addEventListener("touchstart",()=>this.stopAutoplay()),this.element.addEventListener("touchend",()=>this.startAutoplay()),this.startAutoplay();let u=0,h=0;this.element.addEventListener("touchstart",t=>{u=t.touches[0].clientX}),this.element.addEventListener("touchmove",t=>{h=t.touches[0].clientX}),this.element.addEventListener("touchend",()=>{const t=h-u;Math.abs(t)>50&&(t>0?this.prev():this.next())})}}function m(r){return console.log("Запуск инициализации карусели"),new d(r)}export{d as Carousel,m as initCarousel};
//# sourceMappingURL=carousel-CqvX0WQi.js.map
