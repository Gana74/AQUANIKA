import{b as _e,i as He}from"./sideMenu-8Nj3gUjw.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var Ue={exports:{}};(function(e){(function(t,a){var n=a(t,t.document,Date);t.lazySizes=n,e.exports&&(e.exports=n)})(typeof window<"u"?window:{},function(a,n,l){var u,o;if(function(){var p,m={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};o=a.lazySizesConfig||a.lazysizesConfig||{};for(p in m)p in o||(o[p]=m[p])}(),!n||!n.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var f=n.documentElement,w=a.HTMLPictureElement,c="addEventListener",r="getAttribute",s=a[c].bind(a),i=a.setTimeout,h=a.requestAnimationFrame||i,y=a.requestIdleCallback,b=/^picture$/i,E=["load","error","lazyincluded","_lazyloaded"],C={},I=Array.prototype.forEach,N=function(p,m){return C[m]||(C[m]=new RegExp("(\\s|^)"+m+"(\\s|$)")),C[m].test(p[r]("class")||"")&&C[m]},F=function(p,m){N(p,m)||p.setAttribute("class",(p[r]("class")||"").trim()+" "+m)},ie=function(p,m){var g;(g=N(p,m))&&p.setAttribute("class",(p[r]("class")||"").replace(g," "))},ce=function(p,m,g){var A=g?c:"removeEventListener";g&&ce(p,m),E.forEach(function(S){p[A](S,m)})},G=function(p,m,g,A,S){var _=n.createEvent("Event");return g||(g={}),g.instance=u,_.initEvent(m,!A,!S),_.detail=g,p.dispatchEvent(_),_},le=function(p,m){var g;!w&&(g=a.picturefill||o.pf)?(m&&m.src&&!p[r]("srcset")&&p.setAttribute("srcset",m.src),g({reevaluate:!0,elements:[p]})):m&&m.src&&(p.src=m.src)},J=function(p,m){return(getComputedStyle(p,null)||{})[m]},pe=function(p,m,g){for(g=g||p.offsetWidth;g<o.minSize&&m&&!p._lazysizesWidth;)g=m.offsetWidth,m=m.parentNode;return g},Z=function(){var p,m,g=[],A=[],S=g,_=function(){var x=S;for(S=g.length?A:g,p=!0,m=!1;x.length;)x.shift()();p=!1},z=function(x,L){p&&!L?x.apply(this,arguments):(S.push(x),m||(m=!0,(n.hidden?i:h)(_)))};return z._lsFlush=_,z}(),ne=function(p,m){return m?function(){Z(p)}:function(){var g=this,A=arguments;Z(function(){p.apply(g,A)})}},qe=function(p){var m,g=0,A=o.throttleDelay,S=o.ricTimeout,_=function(){m=!1,g=l.now(),p()},z=y&&S>49?function(){y(_,{timeout:S}),S!==o.ricTimeout&&(S=o.ricTimeout)}:ne(function(){i(_)},!0);return function(x){var L;(x=x===!0)&&(S=33),!m&&(m=!0,L=A-(l.now()-g),L<0&&(L=0),x||L<9?z():i(z,L))}},fe=function(p){var m,g,A=99,S=function(){m=null,p()},_=function(){var z=l.now()-g;z<A?i(_,A-z):(y||S)(S)};return function(){g=l.now(),m||(m=i(_,A))}},he=function(){var p,m,g,A,S,_,z,x,L,O,R,V,Ie=/^img$/i,Oe=/^iframe$/i,Te="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),Pe=0,X=0,$=0,Q=-1,ve=function(d){$--,(!d||$<0||!d.target)&&($=0)},ye=function(d){return V==null&&(V=J(n.body,"visibility")=="hidden"),V||!(J(d.parentNode,"visibility")=="hidden"&&J(d,"visibility")=="hidden")},Fe=function(d,v){var k,B=d,M=ye(d);for(x-=v,R+=v,L-=v,O+=v;M&&(B=B.offsetParent)&&B!=n.body&&B!=f;)M=(J(B,"opacity")||1)>0,M&&J(B,"overflow")!="visible"&&(k=B.getBoundingClientRect(),M=O>k.left&&L<k.right&&R>k.top-1&&x<k.bottom+1);return M},be=function(){var d,v,k,B,M,q,W,D,U,H,K,Y,P=u.elements;if((A=o.loadMode)&&$<8&&(d=P.length)){for(v=0,Q++;v<d;v++)if(!(!P[v]||P[v]._lazyRace)){if(!Te||u.prematureUnveil&&u.prematureUnveil(P[v])){ee(P[v]);continue}if((!(D=P[v][r]("data-expand"))||!(q=D*1))&&(q=X),H||(H=!o.expand||o.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:o.expand,u._defEx=H,K=H*o.expFactor,Y=o.hFac,V=null,X<K&&$<1&&Q>2&&A>2&&!n.hidden?(X=K,Q=0):A>1&&Q>1&&$<6?X=H:X=Pe),U!==q&&(_=innerWidth+q*Y,z=innerHeight+q,W=q*-1,U=q),k=P[v].getBoundingClientRect(),(R=k.bottom)>=W&&(x=k.top)<=z&&(O=k.right)>=W*Y&&(L=k.left)<=_&&(R||O||L||x)&&(o.loadHidden||ye(P[v]))&&(m&&$<3&&!D&&(A<3||Q<4)||Fe(P[v],q))){if(ee(P[v]),M=!0,$>9)break}else!M&&m&&!B&&$<4&&Q<4&&A>2&&(p[0]||o.preloadAfterLoad)&&(p[0]||!D&&(R||O||L||x||P[v][r](o.sizesAttr)!="auto"))&&(B=p[0]||P[v])}B&&!M&&ee(B)}},T=qe(be),ge=function(d){var v=d.target;if(v._lazyCache){delete v._lazyCache;return}ve(d),F(v,o.loadedClass),ie(v,o.loadingClass),ce(v,Ee),G(v,"lazyloaded")},$e=ne(ge),Ee=function(d){$e({target:d.target})},Re=function(d,v){var k=d.getAttribute("data-load-mode")||o.iframeLoadMode;k==0?d.contentWindow.location.replace(v):k==1&&(d.src=v)},je=function(d){var v,k=d[r](o.srcsetAttr);(v=o.customMedia[d[r]("data-media")||d[r]("media")])&&d.setAttribute("media",v),k&&d.setAttribute("srcset",k)},We=ne(function(d,v,k,B,M){var q,W,D,U,H,K;(H=G(d,"lazybeforeunveil",v)).defaultPrevented||(B&&(k?F(d,o.autosizesClass):d.setAttribute("sizes",B)),W=d[r](o.srcsetAttr),q=d[r](o.srcAttr),M&&(D=d.parentNode,U=D&&b.test(D.nodeName||"")),K=v.firesLoad||"src"in d&&(W||q||U),H={target:d},F(d,o.loadingClass),K&&(clearTimeout(g),g=i(ve,2500),ce(d,Ee,!0)),U&&I.call(D.getElementsByTagName("source"),je),W?d.setAttribute("srcset",W):q&&!U&&(Oe.test(d.nodeName)?Re(d,q):d.src=q),M&&(W||U)&&le(d,{src:q})),d._lazyRace&&delete d._lazyRace,ie(d,o.lazyClass),Z(function(){var Y=d.complete&&d.naturalWidth>1;(!K||Y)&&(Y&&F(d,o.fastLoadedClass),ge(H),d._lazyCache=!0,i(function(){"_lazyCache"in d&&delete d._lazyCache},9)),d.loading=="lazy"&&$--},!0)}),ee=function(d){if(!d._lazyRace){var v,k=Ie.test(d.nodeName),B=k&&(d[r](o.sizesAttr)||d[r]("sizes")),M=B=="auto";(M||!m)&&k&&(d[r]("src")||d.srcset)&&!d.complete&&!N(d,o.errorClass)&&N(d,o.lazyClass)||(v=G(d,"lazyunveilread").detail,M&&de.updateElem(d,!0,d.offsetWidth),d._lazyRace=!0,$++,We(d,v,M,B,k))}},De=fe(function(){o.loadMode=3,T()}),Ce=function(){o.loadMode==3&&(o.loadMode=2),De()},ae=function(){if(!m){if(l.now()-S<999){i(ae,999);return}m=!0,o.loadMode=3,T(),s("scroll",Ce,!0)}};return{_:function(){S=l.now(),u.elements=n.getElementsByClassName(o.lazyClass),p=n.getElementsByClassName(o.lazyClass+" "+o.preloadClass),s("scroll",T,!0),s("resize",T,!0),s("pageshow",function(d){if(d.persisted){var v=n.querySelectorAll("."+o.loadingClass);v.length&&v.forEach&&h(function(){v.forEach(function(k){k.complete&&ee(k)})})}}),a.MutationObserver?new MutationObserver(T).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[c]("DOMNodeInserted",T,!0),f[c]("DOMAttrModified",T,!0),setInterval(T,999)),s("hashchange",T,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(d){n[c](d,T,!0)}),/d$|^c/.test(n.readyState)?ae():(s("load",ae),n[c]("DOMContentLoaded",T),i(ae,2e4)),u.elements.length?(be(),Z._lsFlush()):T()},checkElems:T,unveil:ee,_aLSL:Ce}}(),de=function(){var p,m=ne(function(_,z,x,L){var O,R,V;if(_._lazysizesWidth=L,L+="px",_.setAttribute("sizes",L),b.test(z.nodeName||""))for(O=z.getElementsByTagName("source"),R=0,V=O.length;R<V;R++)O[R].setAttribute("sizes",L);x.detail.dataAttr||le(_,x.detail)}),g=function(_,z,x){var L,O=_.parentNode;O&&(x=pe(_,O,x),L=G(_,"lazybeforesizes",{width:x,dataAttr:!!z}),L.defaultPrevented||(x=L.detail.width,x&&x!==_._lazysizesWidth&&m(_,O,L,x)))},A=function(){var _,z=p.length;if(z)for(_=0;_<z;_++)g(p[_])},S=fe(A);return{_:function(){p=n.getElementsByClassName(o.autosizesClass),s("resize",S)},checkElems:S,updateElem:g}}(),oe=function(){!oe.i&&n.getElementsByClassName&&(oe.i=!0,de._(),he._())};return i(function(){o.init&&oe()}),u={cfg:o,autoSizer:de,loader:he,init:oe,uP:le,aC:F,rC:ie,hC:N,fire:G,gW:pe,rAF:Z},u})})(Ue);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toTopButton");e&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?e.classList.add("show"):e.classList.remove("show")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))});const we="/AQUANIKA/assets/home-BCn1Fb8x.mp4";function Ve(){const e=document.getElementById("videoBlock"),t=document.getElementById("playButton"),a=document.getElementById("videoModal"),n=document.getElementById("aboutVideo"),l=document.getElementById("closeModal");if(!e||!t||!a||!n||!l)return;try{we&&(n.src=we,n.setAttribute("preload","none"))}catch(c){console.warn("Не удалось назначить src для видео:",c)}async function u(){a.style.display="block",document.body.style.overflow="hidden",document.body.style.paddingRight=f()+"px";const c=a.querySelector(".video-container")||n;try{c.requestFullscreen?await c.requestFullscreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():n.webkitEnterFullscreen&&n.webkitEnterFullscreen()}catch(r){console.warn("Fullscreen error:",r)}try{await n.play()}catch(r){console.log("Автовоспроизведение не разрешено:",r)}}async function o(){try{n.pause()}catch{}a.style.display="none",document.body.style.overflow="auto",document.body.style.paddingRight="";try{document.fullscreenElement&&document.exitFullscreen?await document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen&&document.webkitExitFullscreen()}catch(c){console.warn("Exit fullscreen error:",c)}}function f(){return window.innerWidth-document.documentElement.clientWidth}e.addEventListener("click",function(c){c.target!==t&&!t.contains(c.target)&&u()}),t.addEventListener("click",u),l.addEventListener("click",o),a.addEventListener("click",function(c){c.target===a&&o()}),document.addEventListener("keydown",function(c){c.key==="Escape"&&a.style.display==="block"&&o()});const w=document.querySelector(".modal-content");w&&w.addEventListener("click",function(c){c.stopPropagation()}),console.log("Modal video initialized successfully")}function Ke(){const e=document,t=e.getElementById("galleryMasonry");if(!t)return;const a=e.querySelectorAll(".gallery-filter .filter-button");a.forEach(i=>{i.addEventListener("click",()=>{a.forEach(b=>b.classList.remove("active")),i.classList.add("active");const h=i.getAttribute("data-filter");t.querySelectorAll(".gallery-item").forEach(b=>{const E=b.getAttribute("data-category"),C=h==="all"||E===h;b.style.display=C?"":"none"})})});const n=e.getElementById("galleryModal");if(!n)return;const l=n.querySelector(".gallery-modal__image"),u=n.querySelector(".gallery-modal__caption"),o=n.querySelector(".gallery-modal__close"),f=n.querySelector(".gallery-modal__prev"),w=n.querySelector(".gallery-modal__next");let c=-1;const r=()=>Array.from(t.querySelectorAll(".gallery-item")).filter(i=>i.style.display!=="none");function s(i){const h=r();if(!h.length)return;c=(i+h.length)%h.length;const y=h[c].querySelector("img");l.src=y.src,l.alt=y.alt||"",u.textContent=y.alt||"",n.classList.add("is-open")}t.addEventListener("click",i=>{let h=i.target.closest("img"),y=i.target.closest(".gallery-item");if(!h&&y&&(h=y.querySelector("img")),!h||!y)return;const E=r().indexOf(y);s(E)}),o.addEventListener("click",()=>n.classList.remove("is-open")),n.addEventListener("click",i=>{i.target===n&&n.classList.remove("is-open")}),f.addEventListener("click",()=>s(c-1)),w.addEventListener("click",()=>s(c+1)),window.addEventListener("keydown",i=>{n.classList.contains("is-open")&&(i.key==="Escape"&&n.classList.remove("is-open"),i.key==="ArrowLeft"&&s(c-1),i.key==="ArrowRight"&&s(c+1))})}let xe=!1;function Qe(){if(document.getElementById("formsModalOverlay"))return;const e=(s,i,h={},y)=>{const b=document.createElement(s);i&&(b.className=i);for(const[E,C]of Object.entries(h))C!=null&&b.setAttribute(E,String(C));return y!==void 0&&(b.textContent=y),b},t=e("div","modal-overlay",{id:"formsModalOverlay"}),a={callback:"AQUANIKA: Заказать звонок",question:"AQUANIKA: Вопрос",review:"AQUANIKA: Отзыв",resume:"AQUANIKA: Резюме"},n=()=>e("span","form__req",{},"*"),l=(s,i,h,y)=>{const b=e("div","form__row"),E=e("label","form__label");E.append(document.createTextNode(i)),h&&E.append(n());const C=e("input","form__input",y);return h&&(C.required=!0),E.append(C),b.append(E),s.append(b),C},u=(s,i,h,y,b)=>{const E=e("div","form__row"),C=e("label","form__label");C.append(document.createTextNode(i));const I=e("select","form__input",{name:y});return b.forEach(N=>{const F=document.createElement("option");typeof N=="object"?(N.value!==void 0&&(F.value=String(N.value)),F.textContent=N.text!==void 0?String(N.text):String(N.value??"")):F.textContent=String(N),I.append(F)}),C.append(I),E.append(C),s.append(E),I},o=(s,i,h,y)=>{const b=e("div","form__row"),E=e("label","form__label");E.append(document.createTextNode(i)),h&&E.append(n());const C=e("textarea","form__textarea",y);return h&&(C.required=!0),E.append(C),b.append(E),s.append(b),C},f=s=>{const i=e("div","form__agree"),h=document.createElement("label"),y=document.createElement("input");y.type="checkbox",y.name="personal-data-consent",y.required=!0;const b=document.createElement("span"),E=document.createElement("a");E.href="/privacy",E.textContent=" политикой конфиденциальности",E.target="_blank",E.rel="noopener noreferrer",E.className="highlight-link",b.textContent="Соглашаюсь с ",b.appendChild(E),h.append(y,b),i.append(h),s.append(i)},w=s=>{const i=e("div","form__actions"),h=e("button","button button--primary",{type:"submit"},"Отправить");i.append(h),s.append(i)},c=(s,i)=>{const h=e("input",null,{type:"hidden",name:"type",value:i}),y=e("input",null,{type:"hidden",name:"page",value:""}),b=e("input",null,{type:"hidden",name:"_subject",value:a[i]||"AQUANIKA"}),E=e("input",null,{type:"text",name:"_gotcha",tabindex:"-1",autocomplete:"off",style:"display:none"});s.append(h,y,b,E)},r=(s,i,h)=>{const y=e("div","forms-modal",{"data-modal":s,"aria-hidden":"true",role:"dialog","aria-modal":"true"}),b=e("div","forms-modal__content"),E=e("button","forms-modal__close",{"aria-label":"Закрыть"},"×"),C=e("h3","forms-modal__title",{},i),I=e("form","modal__form",{action:"https://formspree.io/f/xldpwwpb",method:"POST","data-no-consent":""});c(I,s),h(I),f(I),w(I),b.append(E,C,I),y.append(b),t.append(y)};r("callback","Заказать звонок",s=>{l(s,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),l(s,"Телефон",!0,{type:"tel",name:"phone",placeholder:"+7 (___) ___-__-__"}),u(s,"Удобное время",!1,"preferred_time",[{value:"",text:"Не важно"},{value:"10:00 - 12:00"},{value:"12:00 - 15:00"},{value:"15:00 - 18:00"},{value:"18:00 - 21:00"}]),o(s,"Комментарий",!1,{name:"message",rows:"4",placeholder:"Опишите вопрос"})}),r("question","Задать вопрос",s=>{l(s,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),o(s,"Сообщение",!0,{name:"message",rows:"5",placeholder:"Ваш вопрос"})}),r("resume","Отправить резюме",s=>{l(s,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),l(s,"Email",!0,{type:"email",name:"email",placeholder:"name@example.com"}),l(s,"Телефон",!1,{type:"tel",name:"phone",placeholder:"+7 (___) ___-__-__"}),l(s,"Должность/направление",!1,{type:"text",name:"position",placeholder:"Например: Косметолог"}),o(s,"Сопроводительное письмо",!1,{name:"message",rows:"5",placeholder:"Коротко о вашем опыте и ожиданиях"})}),r("review","Оставить отзыв",s=>{l(s,"Имя",!0,{type:"text",name:"name",placeholder:"Ваше имя"}),u(s,"Оценка",!1,"rating",[{value:"",text:"—"},{value:"5"},{value:"4"},{value:"3"},{value:"2"},{value:"1"}]),o(s,"Отзыв",!0,{name:"message",rows:"5",placeholder:"Ваш отзыв"})}),document.body.appendChild(t)}function Ye(){const e=window.innerWidth-document.documentElement.clientWidth;document.body.dataset.prevOverflow=document.body.style.overflow||"",document.body.dataset.prevPaddingRight=document.body.style.paddingRight||"",document.body.style.overflow="hidden",e>0&&(document.body.style.paddingRight=e+"px")}function Ge(){document.body.style.overflow=document.body.dataset.prevOverflow||"",document.body.style.paddingRight=document.body.dataset.prevPaddingRight||"",delete document.body.dataset.prevOverflow,delete document.body.dataset.prevPaddingRight}function Je(){document.querySelectorAll('#formsModalOverlay form input[name="page"]').forEach(t=>t.value=window.location.href)}function re(e){const t=document.getElementById("formsModalOverlay");if(!t)return;Je(),t.querySelectorAll(".forms-modal").forEach(l=>l.setAttribute("aria-hidden","true"));const n=t.querySelector(`.forms-modal[data-modal="${e}"]`);n&&(t.classList.add("is-open"),n.setAttribute("aria-hidden","false"),Ye())}function se(){const e=document.getElementById("formsModalOverlay");e&&(e.classList.remove("is-open"),e.querySelectorAll(".forms-modal").forEach(t=>t.setAttribute("aria-hidden","true")),Ge())}window.closeFormsModal=se;function Ze(){const e=document.getElementById("formsModalOverlay");e&&(e.addEventListener("click",t=>{t.target===e&&se()}),e.addEventListener("click",t=>{t.target.closest(".forms-modal__close")&&se()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("is-open")&&se()}),document.addEventListener("click",t=>{const a=t.target.closest("[data-open-modal]");if(a){t.preventDefault();const o=a.dataset.openModal||"question";re(o);try{const f=document.getElementById("formsModalOverlay"),w=f&&f.querySelector(`.forms-modal[data-modal="${o}"]`),c=w&&w.querySelector("form");if(c){const r=a.dataset.message;if(r){const i=c.querySelector('textarea[name="message"]');i&&(i.value=r)}const s=a.dataset.subject;if(s){const i=c.querySelector('input[name="_subject"]');i&&(i.value=s)}}}catch{}return}const n=t.target.closest(".sidebar__button");if(n&&n.dataset.action){t.preventDefault(),re(n.dataset.action);return}if(t.target.closest(".contacts-message-btn")){t.preventDefault(),re("question");return}if(t.target.closest(".mobile-nav__action-btn")){t.preventDefault(),re("question");return}}))}function Xe(){xe||(Qe(),Ze(),xe=!0,console.log("Модальные формы инициализированы"))}async function ke(e,t){var a;try{const n=t.startsWith("/")?`${_e}${t}`:`${_e}/${t}`,l=await fetch(n);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const u=await l.text(),o=document.getElementById(e);if(o)try{const f=window.sanitizeHTML?window.sanitizeHTML(u):u,w=document.createElement("template");w.innerHTML=f,o.replaceChildren(),o.append(w.content.cloneNode(!0));try{(a=window.secureExternalLinks)==null||a.call(window,o)}catch{}}catch{const w=document.createElement("template");w.innerHTML=u,o.replaceChildren(),o.append(w.content.cloneNode(!0))}else console.warn(`Элемент с ID ${e} не найден`)}catch(n){console.error(`Ошибка при загрузке компонента ${t}:`,n)}}class et{constructor(){this.sidebar=document.querySelector(".mobile-nav__sidebar"),this.slides=document.querySelector(".mobile-nav__slides"),this.mainSlide=document.querySelector(".mobile-nav__slide-main"),this.submenuSlide=document.querySelector(".mobile-nav__slide-submenu"),this.menuBtn=document.querySelector(".mobile-nav__menu-btn"),this.closeBtn=document.querySelector(".mobile-nav__close"),this.backBtn=document.querySelector(".mobile-nav__back"),this.servicesBtn=document.querySelector(".mobile-nav__category-btn"),this.categoriesList=document.querySelector(".mobile-nav__categories"),this.subcategoryBtns=document.querySelectorAll(".mobile-nav__subcategory-btn"),this.submenus=document.querySelectorAll(".mobile-nav__subsubmenu"),this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.toggleMenu=this.toggleMenu.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleCategories=this.toggleCategories.bind(this),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.initEventListeners()}initEventListeners(){this.menuBtn.addEventListener("click",this.toggleMenu),this.closeBtn.addEventListener("click",this.closeMenu),this.servicesBtn.addEventListener("click",this.toggleCategories),this.subcategoryBtns.forEach(t=>{t.addEventListener("click",()=>{const a=t.dataset.category;this.showSubmenu(a)})}),this.backBtn.addEventListener("click",this.hideSubmenu),document.addEventListener("click",this.handleClickOutside),this.sidebar.addEventListener("click",t=>{t.target.closest("a")&&this.closeMenu()}),this.addInteractiveEffects()}addInteractiveEffects(){this.sidebar.querySelectorAll("a, button").forEach(a=>{a.addEventListener("mouseenter",()=>{a.style.transition="all 0.2s ease",a.style.transform="translateY(-1px)"}),a.addEventListener("mouseleave",()=>{a.style.transform="translateY(0)"}),a.addEventListener("mousedown",()=>{a.style.transform="translateY(1px)"}),a.addEventListener("mouseup",()=>{a.style.transform="translateY(-1px)"})})}toggleMenu(){this.isOpen?this.closeMenu():this.openMenu()}openMenu(){this.isOpen=!0,this.sidebar.classList.add("is-open"),document.body.style.overflow="hidden"}closeMenu(){this.isOpen=!1,this.isSubmenuOpen=!1,this.isCategoriesOpen=!1,this.sidebar.classList.remove("is-open"),this.slides.classList.remove("show-submenu"),this.servicesBtn.classList.remove("is-open"),this.categoriesList.classList.remove("is-open"),document.body.style.overflow=""}toggleCategories(){this.isCategoriesOpen=!this.isCategoriesOpen,this.servicesBtn.classList.toggle("is-open"),this.categoriesList.classList.toggle("is-open")}showSubmenu(t){this.isSubmenuOpen=!0,this.slides.classList.add("show-submenu"),this.submenus.forEach(a=>{a.dataset.category===t?a.classList.add("is-active"):a.classList.remove("is-active")})}hideSubmenu(){this.isSubmenuOpen=!1,this.slides.classList.remove("show-submenu"),this.submenus.forEach(t=>{t.classList.remove("is-active")})}handleClickOutside(t){this.isOpen&&!this.sidebar.contains(t.target)&&!this.menuBtn.contains(t.target)&&this.closeMenu()}}const te={salonCoordinates:[55.175026,61.310027],mapOptions:{zoom:16,controls:["zoomControl","fullscreenControl","typeSelector"]}};let j=null;function tt(){const e=document.createElement("div");e.className="balloon-content";const t=document.createElement("p"),a=document.createElement("strong");a.textContent="Адрес:",t.appendChild(a),t.appendChild(document.createTextNode(" Братьев Кашириных, 131"));const n=document.createElement("p"),l=document.createElement("strong");l.textContent="Телефон:",n.appendChild(l);const u=document.createElement("a");u.href="tel:79227445287",u.textContent=" +7 (922) 744-52-87",n.appendChild(u);const o=document.createElement("p"),f=document.createElement("strong");return f.textContent="Время работы:",o.appendChild(f),o.appendChild(document.createTextNode(" с 10:00 до 21:00")),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}function nt(){const e=document.createElement("div");e.className="map-placeholder";const t=document.createElement("i");t.className="fas fa-map-marked-alt";const a=document.createElement("div");a.className="loading-text";const n=document.createElement("p");n.textContent="Карта временно недоступна";const l=document.createElement("a");return l.href="https://yandex.ru/maps/?um=constructor%3A6c71b99ccf1f2b1ece9efab9e7a6672d6bb373294df3d4738952dd7d58ef905a&source=constructorStatic",l.target="_blank",l.rel="noopener noreferrer",l.textContent="Посмотреть статическую карту",a.appendChild(n),a.appendChild(l),e.appendChild(t),e.appendChild(a),e}function Le(){if(document.getElementById("map")){if(typeof ymaps>"u"){ot();return}ymaps.ready(()=>{try{Se()}catch(e){console.error("Ошибка при создании карты:",e),me()}})}}function ot(){const e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?apikey=480aa768-745b-4ac9-8ec8-e40c2e8d6c82&lang=ru_RU",e.type="text/javascript",e.onload=()=>{ymaps.ready(()=>{try{Se()}catch(t){console.error("Ошибка при создании карты:",t),me()}})},e.onerror=()=>{console.error("Ошибка загрузки API Яндекс.Карт"),me()},document.head.appendChild(e)}function Se(){if(j&&(j.destroy(),j=null),!document.getElementById("map"))return;j=new ymaps.Map("map",{center:te.salonCoordinates,zoom:te.mapOptions.zoom,controls:te.mapOptions.controls},{searchControlProvider:"yandex#search"});const t=tt(),a=new ymaps.Placemark(te.salonCoordinates,{balloonContentHeader:"Салон красоты Aquanika",balloonContentBody:t.innerHTML,hintContent:"Салон красоты Aquanika"},{preset:"islands#blueBeautyIcon",iconColor:"#ff6b9d",balloonCloseButton:!0,hideIconOnBalloonOpen:!1});j.geoObjects.add(a),at(j),rt(j),setTimeout(()=>{a.balloon.open()},1e3)}function at(e){const t=new ymaps.control.SearchControl({options:{noPlacemark:!0,position:{top:10,right:10}}});e.controls.add(t);const a=new ymaps.control.Button({data:{content:"Проложить маршрут",title:"Проложить маршрут до салона"},options:{maxWidth:200,position:{top:50,right:10}}});a.events.add("press",function(){const n=`https://yandex.ru/maps/?rtext=~${te.salonCoordinates.join(",")}`;window.open(n,"_blank")}),e.controls.add(a)}function rt(e){function t(){window.innerWidth<=768?e.behaviors.disable("scrollZoom"):e.behaviors.enable("scrollZoom")}t(),window.addEventListener("resize",t)}function me(){const e=document.getElementById("map");if(e){const t=nt();e.replaceChildren(),e.appendChild(t)}}function Ae(){j&&(j.destroy(),j=null)}class st{constructor(){this.init()}init(){console.log("Инициализация форм"),document.querySelectorAll('form:not([data-form-initialized="true"])').forEach(c=>{c.addEventListener("submit",a),c.dataset.formInitialized="true"});async function a(c){var b,E;c.preventDefault();const r=c.target,s=r.querySelector('[type="submit"]'),i=new FormData(r);if(Object.fromEntries(i.entries()),!n(r))return;const h=r.querySelector('input[name="type"]'),y=h?h.value:"";if(y==="question"||y==="review"){try{const C="79227445287",I=f(y,Object.fromEntries(new FormData(r).entries())),N=`https://wa.me/${C}?text=${encodeURIComponent(I)}`;window.open(N,"_blank","noopener,noreferrer"),o(r,"Откроется WhatsApp для отправки сообщения.","success"),r.reset();try{(b=window.closeFormsModal)==null||b.call(window)}catch{}}catch(C){o(r,"Не удалось открыть WhatsApp.","error"),console.error("WhatsApp open error:",C)}return}try{s.classList.add("button--loading"),s.disabled=!0;const C=await w(r);o(r,"Сообщение отправлено успешно!","success"),r.reset();try{(E=window.closeFormsModal)==null||E.call(window)}catch{}}catch(C){o(r,"Произошла ошибка. Попробуйте позже.","error"),console.error("Form submission error:",C)}finally{s.classList.remove("button--loading"),s.disabled=!1}}function n(c){const r=c.querySelectorAll("input, textarea");let s=!0;return r.forEach(i=>{u(i),i.required&&!i.value.trim()&&(l(i,"Это поле обязательно для заполнения"),s=!1),i.type==="email"&&i.value&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.value)||(l(i,"Введите корректный email"),s=!1)),i.type==="tel"&&i.value&&(/^\+?[0-9\s-()]{10,}$/.test(i.value)||(l(i,"Введите корректный номер телефона"),s=!1))}),s}function l(c,r){const s=document.createElement("div");s.className="form__error",s.textContent=r,c.classList.add("input--error"),c.parentNode.appendChild(s)}function u(c){const r=c.parentNode.querySelector(".form__error");r&&r.remove(),c.classList.remove("input--error")}function o(c,r,s){const i=document.createElement("div");i.className=`form__message form__message--${s}`,i.textContent=r;const h=c.querySelector(".form__message");h&&h.remove(),c.appendChild(i),setTimeout(()=>{i.remove()},5e3)}function f(c,r){const s=[];return c==="question"?s.push("Здравствуйте! Хочу задать вопрос."):c==="review"&&s.push("Здравствуйте! Хочу оставить отзыв."),r.name&&s.push(`Имя: ${r.name}`),r.phone&&s.push(`Телефон: ${r.phone}`),r.email&&s.push(`Email: ${r.email}`),r.preferred_time&&s.push(`Удобное время: ${r.preferred_time}`),r.rating&&s.push(`Оценка: ${r.rating}`),r.message&&s.push(`Сообщение: ${r.message}`),r.page&&s.push(`Страница: ${r.page}`),s.join(`
`)}async function w(c){const r=c.getAttribute("action")||"/api/send-form",s=(c.getAttribute("method")||"POST").toUpperCase(),i=new FormData(c);if(r.includes("formspree.io")){const b=await fetch(r,{method:s,body:i,headers:{Accept:"application/json"}});if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);try{return await b.json()}catch{return{}}}const h=Object.fromEntries(i.entries()),y=await fetch(r,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);return await y.json()}}}function it(){return console.log("Запуск инициализации форм"),new st}window.initVideoModal=Ve;window.initGalleryModal=Ke;window.initMap=Le;window.destroyMap=Ae;window.initForms=it;window.sanitizeHTML=window.sanitizeHTML||(e=>e);function ze(){const e=window.location.pathname,t=window.location.origin,a=window.basePath||(window.location.hostname.includes("github.io")?"/AQUANIKA":""),n=[{"@type":"ListItem",position:1,name:"Главная",item:`${t}${a}/`}];let l=2;if(e===`${a}/`||e==="/")return ue(n);const u={"/about":"О нас","/team":"Наша команда","/reviews":"Отзывы","/price":"Цены","/gallery":"Галерея","/vacancies":"Вакансии","/contacts":"Контакты","/privacy":"Политика конфиденциальности"},o={"/services/spa":"SPA и массаж","/services/epilation":"Эпиляция","/services/brows":"Брови и ресницы","/services/nails":"Маникюр и педикюр","/services/cosmetology":"Уход за кожей","/services/hairdressing":"Парикмахерские услуги","/services/makeup":"Макияж","/services/men":"Для мужчин"};for(const[f,w]of Object.entries(u))if(e.includes(f))return n.push({"@type":"ListItem",position:l,name:w,item:`${t}/AQUANIKA${f}`}),ue(n);for(const[f,w]of Object.entries(o))if(e.includes(f)){n.push({"@type":"ListItem",position:l++,name:w,item:`${t}/AQUANIKA${f}`});const c=ct(f);for(const[r,s]of Object.entries(c))if(e.includes(r)){n.push({"@type":"ListItem",position:l,name:s,item:`${t}/AQUANIKA${r}`});break}return ue(n)}return null}function ct(e){return{"/services/spa":{"/services/aquanika":'ПВМ "Акваника"',"/services/massage":"Массаж","/services/wrapping":"Обертывание"},"/services/epilation":{"/services/epilation/laser":"Лазерная эпиляция","/services/epilation/sugaring":"Шугаринг"},"/services/brows":{"/services/brows/architecture":"Архитектура бровей","/services/brows/extensions":"Наращивание ресниц"},"/services/nails":{"/services/nails/manicure":"Маникюр","/services/nails/pedicure":"Педикюр","/services/nails/extensions":"Наращивание ногтей"},"/services/cosmetology":{"/services/cosmetology/face-care":"Косметология","/services/cosmetology/injections":"Инъекции","/services/cosmetology/tattoo-removal":"Выведение татуажа"},"/services/hairdressing":{"/services/hairdressing/haircuts":"Стрижки","/services/hairdressing/coloring":"Окрашивание","/services/hairdressing/styling":"Укладки"},"/services/men":{"/services/men/haircut":"Мужская стрижка","/services/men/epilation":"Мужская эпиляция","/services/men/manicure":"Мужской маникюр"}}[e]||{}}function ue(e){const t=document.querySelector('script[type="application/ld+json"][data-breadcrumbs]');t&&t.remove();const a={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e},n=document.createElement("script");return n.type="application/ld+json",n.setAttribute("data-breadcrumbs","true"),n.textContent=JSON.stringify(a,null,2),n}function lt(){const e=document.querySelector('script[type="application/ld+json"][data-breadcrumbs]');if(!e)return;let t;try{t=JSON.parse(e.textContent||"")}catch{return}const a=t.itemListElement,n=document.createElement("nav");n.setAttribute("aria-label","Хлебные крошки"),n.className="breadcrumbs";const l=document.createElement("div");l.className="container";const u=document.createElement("ol");u.className="breadcrumbs__list",a.forEach((f,w)=>{const c=document.createElement("li");if(c.className="breadcrumbs__item",w===a.length-1){const r=document.createElement("span");r.className="breadcrumbs__current",r.setAttribute("aria-current","page"),r.textContent=f.name,c.appendChild(r)}else{const r=document.createElement("a");r.href=f.item,r.className="breadcrumbs__link",r.textContent=f.name,c.appendChild(r)}u.appendChild(c)}),l.appendChild(u),n.appendChild(l);const o=document.querySelector("main");o&&o.insertBefore(n,o.firstChild)}function Be(){const e=ze();e&&(document.head.appendChild(e),lt())}window.initBreadcrumbs=Be;window.generateBreadcrumbs=ze;window.basePath=window.location.hostname.includes("github.io")?"/AQUANIKA":"";function dt(){if(document.getElementById("cookieBannerStyles"))return;const e=document.createElement("style");e.id="cookieBannerStyles",e.textContent=`
  .cookie-banner { 
    position: fixed; 
    left: 16px; 
    right: 16px; 
    bottom: 16px; 
    z-index: 1100; 
    display: flex; 
    gap: 16px; 
    align-items: flex-start; 
    padding: 16px; 
    background: var(--color-background, #fff); 
    color: var(--color-dark, #222); 
    border: 1px solid var(--color-border, #e0e0e0); 
    border-radius: 12px; 
    box-shadow: var(--shadow-lg, 0 10px 30px rgba(0,0,0,.15)); 
    max-width: 960px; 
    margin: 0 auto; 
  }
  .cookie-banner__text { 
    flex: 1; 
    line-height: 1.5; 
    font-size: 14px; 
  }
  .cookie-banner__actions { 
    display: flex; 
    gap: 12px; 
    flex-wrap: wrap; 
  }
  .cookie-banner__link { 
    color: var(--color-secondary, #a78b3d); 
    text-decoration: underline; 
  }
  .cookie-banner__btn { 
    white-space: nowrap; 
  }
  .consent-checkbox {
    margin: 10px 0;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #e9ecef;
  }
  .consent-checkbox label {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    font-size: 13px;
    cursor: pointer;
    line-height: 1.4;
  }
  .consent-checkbox input[type="checkbox"] {
    margin-top: 2px;
    flex-shrink: 0;
  }
  .form-consent {
    margin: 15px 0;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 6px;
    border-left: 4px solid #007bff;
  }
  .form-consent label {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    font-size: 14px;
    cursor: pointer;
    line-height: 1.4;
  }
  .form-consent input[type="checkbox"] {
    margin-top: 2px;
    flex-shrink: 0;
  }
  @media (max-width: 640px){ 
    .cookie-banner{ 
      flex-direction: column; 
      gap: 12px; 
      padding: 12px; 
    }
    .cookie-banner__actions {
      width: 100%;
      justify-content: stretch;
    }
    .cookie-banner__btn {
      flex: 1;
      min-width: 120px;
    }
  }`,document.head.appendChild(e)}function ut(){if(document.getElementById("cookieBanner"))return;const e=document.createElement("div");e.id="cookieBanner",e.className="cookie-banner",e.setAttribute("role","region"),e.setAttribute("aria-label","Уведомление об использовании cookies");const t=document.createElement("p");t.className="cookie-banner__text";const a=document.createElement("span");a.textContent="Мы используем файлы cookie для улучшения работы сайта. ";const n=document.createElement("a");n.className="cookie-banner__link",n.href="/privacy",n.textContent="Подробнее в Политике конфиденциальности",n.setAttribute("rel","noopener"),n.setAttribute("target","_self");const l=document.createElement("span");l.textContent=".",t.append(a,n,l);const u=document.createElement("div");u.className="cookie-banner__actions";const o=document.createElement("button");o.className="button button--primary cookie-banner__btn",o.type="button",o.textContent="Принять",o.addEventListener("click",()=>{try{localStorage.setItem("cookieConsent","accepted"),localStorage.setItem("cookieConsentDate",new Date().toISOString())}catch{}e.remove(),Me()});const f=document.createElement("button");f.className="button button--secondary cookie-banner__btn",f.type="button",f.textContent="Отклонить",f.addEventListener("click",()=>{try{localStorage.setItem("cookieConsent","rejected")}catch{}e.remove()}),u.append(o,f),e.append(t,u),document.body.appendChild(e)}function Me(){console.log("📊 Инициализация аналитики (после согласия пользователя)")}function mt(){document.querySelectorAll("form:not([data-no-consent])").forEach(t=>{if(!t.querySelector('input[name="personal-data-consent"]')){const a=document.createElement("div");a.className="form-consent";const n=document.createElement("label"),l=document.createElement("input");l.type="checkbox",l.name="personal-data-consent",l.required=!0;const u=document.createElement("span"),o=document.createTextNode("Я согласен на обработку моих персональных данных в соответствии с "),f=document.createElement("a");f.href="/privacy",f.target="_blank",f.textContent="Политикой конфиденциальности",f.style.color="#007bff";const w=document.createTextNode("");u.appendChild(o),u.appendChild(f),u.appendChild(w),n.appendChild(l),n.appendChild(u),a.appendChild(n);const c=t.querySelector('button[type="submit"], input[type="submit"]');c?c.parentNode.insertBefore(a,c):t.appendChild(a)}})}function pt(){document.addEventListener("submit",function(e){const t=e.target;if(t.hasAttribute("data-no-consent"))return;const a=t.querySelector('input[name="personal-data-consent"]');a&&!a.checked&&(e.preventDefault(),alert("Для отправки формы необходимо согласие на обработку персональных данных"),a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"}))})}function ft(){try{if(localStorage.getItem("cookieConsent")==="accepted"){Me();return}}catch{}dt(),ut()}async function ht(){try{document.getElementById("header-placeholder")&&await ke("header-placeholder","/components/partials/header.html"),document.getElementById("footer-placeholder")&&await ke("footer-placeholder","/components/partials/footer.html")}catch(e){console.warn("Layout components loading failed:",e)}}function Ne(){window.location.pathname.includes("/contacts")||document.getElementById("map")?(console.log("🗺️ Инициализация карты на странице контактов"),setTimeout(()=>{Le()},100)):Ae()}document.addEventListener("DOMContentLoaded",async()=>{console.log("🚀 AQUANIKA loaded in",window.location.hostname.includes("github.io")?"GitHub Pages":window.location.hostname==="localhost"?"Local development":"Production","mode");try{Be()}catch(e){console.warn("Breadcrumbs initialization failed",e)}await Promise.all([ht(),new Promise(e=>{new et,e()})]);try{Xe()}catch(e){console.warn("initFormsModals failed",e)}try{ft()}catch(e){console.warn("initCookieBanner failed",e)}try{mt(),pt()}catch(e){console.warn("Form consent initialization failed",e)}Ne(),He()});window.addEventListener("popstate",()=>{setTimeout(()=>{Ne()},50)});
//# sourceMappingURL=main-CWJgHMf4.js.map
