const b="modulepreload",S=function(t){return"/AQUANIKA/"+t},w={},k=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=S(l),l in w)return;w[l]=!0;const o=l.endsWith(".css"),h=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":b,o||(u.as="script"),u.crossOrigin="",u.href=l,s&&u.setAttribute("nonce",s),document.head.appendChild(u),o)return new Promise((m,q)=>{u.addEventListener("load",m),u.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${l}`)))})}))}function c(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return r.then(a=>{for(const s of a||[])s.status==="rejected"&&c(s.reason);return e().catch(c)})},d=window.location.hostname.includes("github.io")||window.location.hostname==="localhost"?"/AQUANIKA":"",E=window.location.hostname.includes("github.io"),p={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/price":"/pages/price.html","/contacts":"/pages/contacts.html","/price":"/pages/price.html","/privacy":"/pages/privacy.html","/services/spa":"/pages/spa-and-massage.html","/services/aquanika":"/pages/aquanika-massage.html","/services/massage":"/pages/massage.html","/services/wrapping":"/pages/wrapping.html","/services/epilation":"/pages/epilation.html","/services/epilation/laser":"/pages/laser-epilation.html","/services/epilation/sugaring":"/pages/sugaring.html","/services/brows":"/pages/brows-and-lashes.html","/services/brows/architecture":"/pages/brows-architecture.html","/services/brows/extensions":"/pages/brows-extensions.html","/services/nails":"/pages/manicure-pedicure.html","/services/nails/manicure":"/pages/manicure.html","/services/nails/pedicure":"/pages/pedicure.html","/services/nails/extensions":"/pages/nails-extensions.html","/services/cosmetology":"/pages/cosmetology.html","/services/cosmetology/face-care":"/pages/face-care.html","/services/cosmetology/injections":"/pages/injections.html","/services/cosmetology/tattoo-removal":"/pages/tattoo-removal.html","/services/hairdressing":"/pages/hairdressing.html","/services/hairdressing/haircuts":"/pages/haircuts.html","/services/hairdressing/coloring":"/pages/hair-coloring.html","/services/hairdressing/styling":"/pages/hair-styling.html","/services/makeup":"/pages/makeup.html","/services/men":"/pages/men-services.html","/services/men/haircut":"/pages/men-haircut.html","/services/men/epilation":"/pages/men-epilation.html","/services/men/manicure":"/pages/men-manicure.html"},L=["/about","/team","/reviews","/vacancies","/gallery"],M={"/":"Aquanika – салон красоты премиум-класса","/about":"О нас – Aquanika","/team":"Наша команда – Aquanika","/reviews":"Отзывы – Aquanika","/vacancies":"Вакансии – Aquanika","/gallery":"Галерея – Aquanika","/prices":"Цены – Aquanika","/contacts":"Контакты – Aquanika","/price":"Прайс-лист","/privacy":"Политика конфиденциальности","/services/spa":"SPA и массаж – Aquanika","/services/aquanika":"Подводно-вакуумный массаж 'Акваника' – Aquanika","/services/massage":"Массаж – Aquanika","/services/wrapping":"Обертывания – Aquanika","/services/epilation":"Эпиляция – Aquanika","/services/epilation/laser":"Лазерная эпиляция – Aquanika","/services/epilation/sugaring":"Шугаринг – Aquanika","/services/brows":"Брови и ресницы – Aquanika","/services/brows/architecture":"Брови — Архитектура – Aquanika","/services/brows/extensions":"Ресницы — Наращивание – Aquanika","/services/nails":"Ногтевой сервис – Aquanika","/services/nails/manicure":"Маникюр – Aquanika","/services/nails/pedicure":"Педикюр – Aquanika","/services/nails/extensions":"Наращивание ногтей – Aquanika","/services/cosmetology":"Косметология – Aquanika","/services/cosmetology/face-care":"Косметология — Уход за лицом – Aquanika","/services/cosmetology/injections":"Косметология — Инъекции – Aquanika","/services/cosmetology/tattoo-removal":"Косметология — Выведение татуажа – Aquanika","/services/hairdressing":"Парикмахерские услуги – Aquanika","/services/hairdressing/haircuts":"Стрижки – Aquanika","/services/hairdressing/coloring":"Окрашивание – Aquanika","/services/hairdressing/styling":"Укладки – Aquanika","/services/makeup":"Макияж – Aquanika","/services/men":"Услуги для мужчин – Aquanika","/services/men/haircut":"Для мужчин — Стрижка – Aquanika","/services/men/epilation":"Для мужчин — Эпиляция – Aquanika","/services/men/manicure":"Для мужчин — Маникюр – Aquanika"};function g(t){try{const e=document.createElement("template");e.innerHTML=t;const n=["script","iframe","object","embed"];return e.content.querySelectorAll(n.join(",")).forEach(r=>r.remove()),e.content.querySelectorAll("*").forEach(r=>{Array.from(r.attributes).forEach(c=>{const a=c.name,s=c.value||"";if(/^on/i.test(a)){r.removeAttribute(a);return}["href","src","xlink:href"].includes(a)&&/^\s*javascript:/i.test(s)&&r.setAttribute(a,"#")})}),e.innerHTML}catch(e){return console.warn("sanitizeHTML failed, returning original",e),t}}function P(t=document){t.querySelectorAll('a[target="_blank"]').forEach(n=>{const i=(n.getAttribute("rel")||"").split(/\s+/).filter(Boolean);i.includes("noopener")||i.push("noopener"),i.includes("noreferrer")||i.push("noreferrer"),n.setAttribute("rel",i.join(" "))})}window.secureExternalLinks=P;window.sanitizeHTML=g;async function y(t){let e=t;t.startsWith("/")&&(e=`${d}${t}`);const n=await fetch(e);if(!n.ok)throw new Error(`HTTP ${n.status} – ${e}`);return n.text()}function T(t){try{const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("main");if(i)return i.innerHTML;if(n.body)return n.body.innerHTML}catch(e){console.warn("HTML parse failed, using raw content",e)}return t}function C(){let t=window.location.pathname;return d&&t.startsWith(d)&&(t=t.slice(d.length)),t||"/"}async function _(t){const e=p[t]||p["/"],n=L.includes(t);document.title=M[t]||"Aquanika";try{const i=await y(e),r=T(i),c=g(r);if(n){const s=await y("/components/partials/side-menu.html"),l=g(s);{const o=document.querySelector("main");if(o){o.replaceChildren();const h=document.createElement("div");h.className="page-with-sidebar container";try{const m=document.createElement("template");m.innerHTML=l,h.append(m.content.cloneNode(!0))}catch{}const u=document.createElement("div");u.className="page-content";try{const m=document.createElement("template");m.innerHTML=c,u.append(m.content.cloneNode(!0))}catch{}h.append(u),o.append(h)}}try{const o=await k(()=>Promise.resolve().then(()=>$),void 0);o.initSideMenu?o.initSideMenu():o.default&&o.default.initSideMenu&&o.default.initSideMenu()}catch(o){console.warn("sideMenu.js not available:",o)}}else{const s=document.querySelector("main");if(s){s.replaceChildren();try{const l=document.createElement("template");l.innerHTML=c,s.append(l.content.cloneNode(!0))}catch{}}}I();const{hash:a}=window.location;if(a){const s=()=>{const l=a.slice(1),o=document.getElementById(l)||document.querySelector(a);return o?(o.scrollIntoView({behavior:"smooth",block:"start"}),!0):!1};s()||requestAnimationFrame(()=>{s()||setTimeout(s,50)})}else if(n){const s=document.querySelector(".page-content");s?setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},50):window.scrollTo({top:0,behavior:"smooth"})}else window.scrollTo(0,0)}catch(i){console.error("Ошибка загрузки страницы:",i),t!=="/"&&f("/")}}function f(t){const e=t.startsWith("/")?t:"/"+t,n=e.indexOf("#"),i=n>=0?e.slice(0,n):e,r=n>=0?e.slice(n):"",c=d+i+r;window.history.pushState({},"",c),v()}window.navigateTo=f;function v(){_(C())}function x(t){const e=t.target.closest("a");if(!e)return;const n=new URL(e.href);if(n.origin!==window.location.origin||e.closest(".side-menu"))return;const i=window.location.pathname,r=n.pathname;if(e.hash&&r===i){t.preventDefault();const a=e.hash.slice(1),s=document.getElementById(a)||document.querySelector(e.hash);s?s.scrollIntoView({behavior:"smooth",block:"start"}):window.location.hash=e.hash;return}t.preventDefault();const c=r.replace(d,"")||"/";f(c+(n.hash||""))}function H(){if(E){const n=sessionStorage.getItem("redirectPath");if(n&&(console.log("GitHub Pages редирект:",n),sessionStorage.removeItem("redirectPath"),p[n]))return f(n),!0}const t=window.location.pathname;let e=t;return d&&t.startsWith(d)&&(e=t.slice(d.length)),e!=="/"&&!e.endsWith(".html")&&p[e]?(console.log("Прямой переход по ссылке:",e),f(e),!0):!1}function I(){var t;typeof window.initCarousels=="function"&&window.initCarousels(),typeof window.initForms=="function"&&window.initForms(),typeof window.initVideoModal=="function"&&window.initVideoModal(),typeof window.initGalleryModal=="function"&&window.initGalleryModal();try{(()=>{const n=document.querySelectorAll(".promo-carousel");n.length&&k(()=>import("./carousel-BEtTdnWN.js"),[]).then(i=>{const r=i.initCarousel||i.default&&i.default.initCarousel;r&&n.forEach(c=>{c.dataset.inited||(r(c),c.dataset.inited="true")})})})()}catch(e){console.warn("Carousel init failed",e)}try{(t=window.secureExternalLinks)==null||t.call(window,document)}catch(e){console.warn("secureExternalLinks failed",e)}}function N(){H()||(document.addEventListener("click",x),window.addEventListener("popstate",v),v())}function j(){const t=window.location.pathname.replace(d,"")||"/",e=document.querySelectorAll(".side-menu__link"),n=document.querySelector("main");e.forEach(i=>{i.getAttribute("href")===t&&i.classList.add("active"),i.removeEventListener("click",A),i.addEventListener("click",A)}),n&&(n.classList.add("with-side-menu"),R(n))}function R(t){if(document.querySelector(".side-menu")){let i=function(r){r.matches?t.classList.remove("with-side-menu"):t.classList.add("with-side-menu")};const n=window.matchMedia("(max-width: 992px)");n.addListener(i),i(n)}}function A(t){t.preventDefault();const e=this.getAttribute("href"),n=document.querySelector(".page-content");window.history.pushState({},"",e),document.querySelectorAll(".side-menu__link").forEach(i=>{i.classList.remove("active")}),this.classList.add("active"),p[e]?typeof window.navigateTo=="function"?window.navigateTo(e):window.location.href=`${d}${e}`:(console.error("Маршрут не найден:",e),n&&(n.innerHTML="<h1>Страница не найдена</h1>"))}const $=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:j},Symbol.toStringTag,{value:"Module"}));export{d as b,N as i};
//# sourceMappingURL=sideMenu-D1uie_U2.js.map
