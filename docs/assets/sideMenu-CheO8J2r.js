const q="modulepreload",y=function(e){return"/AQUANIKA/"+e},g={},b=function(i,s,t){let m=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));m=Promise.allSettled(s.map(c=>{if(c=y(c),c in g)return;g[c]=!0;const u=c.endsWith(".css"),w=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${w}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":q,u||(l.as="script"),l.crossOrigin="",l.href=c,o&&l.setAttribute("nonce",o),document.head.appendChild(l),u)return new Promise((k,A)=>{l.addEventListener("load",k),l.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(n){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n}return m.then(n=>{for(const o of n||[])o.status==="rejected"&&r(o.reason);return i().catch(r)})},a=window.location.hostname.includes("github.io")||window.location.hostname==="localhost"&&window.location.port==="3000"?"/AQUANIKA":"",v={"/":"/pages/home.html","/about":"/pages/about.html","/team":"/pages/team.html","/reviews":"/pages/reviews.html","/vacancies":"/pages/vacancies.html","/gallery":"/pages/gallery.html","/prices":"/pages/prices.html","/promotions":"/pages/promotions.html","/contacts":"/pages/contacts.html","/services/spa":"/pages/spa-and-massage.html","/services/aquanika":"/pages/aquanika-massage.html","/services/massage":"/pages/massage.html","/services/wrapping":"/pages/wrapping.html","/services/laser":"/pages/laser-epilation.html","/services/laser/bikini":"/pages/laser-bikini.html","/services/laser/legs":"/pages/laser-legs.html","/services/laser/arms":"/pages/laser-arms.html","/services/brows":"/pages/brows-and-lashes.html","/services/brows/architecture":"/pages/brows-architecture.html","/services/brows/tinting":"/pages/brows-tinting.html","/services/brows/extensions":"/pages/brows-extensions.html","/services/nails":"/pages/manicure-pedicure.html","/services/nails/manicure":"/pages/manicure.html","/services/nails/pedicure":"/pages/pedicure.html","/services/nails/extensions":"/pages/nails-extensions.html","/services/cosmetology":"/pages/cosmetology.html","/services/cosmetology/face-care":"/pages/face-care.html","/services/cosmetology/injections":"/pages/injections.html","/services/cosmetology/tattoo-removal":"/pages/tattoo-removal.html","/services/hairdressing":"/pages/hairdressing.html","/services/hairdressing/haircuts":"/pages/haircuts.html","/services/hairdressing/coloring":"/pages/hair-coloring.html","/services/hairdressing/styling":"/pages/hair-styling.html","/services/makeup":"/pages/makeup.html","/services/makeup/day":"/pages/makeup-day.html","/services/makeup/evening":"/pages/makeup-evening.html","/services/makeup/wedding":"/pages/makeup-wedding.html","/services/men":"/pages/men-services.html","/services/men/haircut":"/pages/men-haircut.html","/services/men/massage":"/pages/men-massage.html","/services/men/manicure":"/pages/men-manicure.html"},S=["/about","/team","/reviews","/vacancies","/gallery"],P={"/":"Aqvanika – салон красоты премиум-класса","/about":"О нас – Aqvanika","/team":"Наша команда – Aqvanika","/reviews":"Отзывы – Aqvanika","/vacancies":"Вакансии – Aqvanika","/gallery":"Галерея – Aqvanika","/prices":"Цены – Aqvanika","/promotions":"Акции – Aqvanika","/contacts":"Контакты – Aqvanika","/services/spa":"SPA и массаж – Aqvanika","/services/aquanika":"Подводно-вакуумный массаж 'Акваника' – Aqvanika","/services/massage":"Массаж – Aqvanika","/services/wrapping":"Обертывания – Aqvanika","/services/laser":"Лазерная эпиляция – Aqvanika","/services/laser/bikini":"Лазерная эпиляция — Бикини – Aqvanika","/services/laser/legs":"Лазерная эпиляция — Ноги – Aqvanika","/services/laser/arms":"Лазерная эпиляция — Руки – Aqvanika","/services/brows":"Брови и ресницы – Aqvanika","/services/brows/architecture":"Брови — Архитектура – Aqvanika","/services/brows/tinting":"Брови — Окрашивание – Aqvanika","/services/brows/extensions":"Ресницы — Наращивание – Aqvanika","/services/nails":"Маникюр и педикюр – Aqvanika","/services/nails/manicure":"Маникюр – Aqvanika","/services/nails/pedicure":"Педикюр – Aqvanika","/services/nails/extensions":"Наращивание ногтей – Aqvanika","/services/cosmetology":"Косметология – Aqvanika","/services/cosmetology/face-care":"Косметология — Уход за лицом – Aqvanika","/services/cosmetology/injections":"Косметология — Инъекции – Aqvanika","/services/cosmetology/tattoo-removal":"Косметология — Выведение татуажа – Aqvanika","/services/hairdressing":"Парикмахерские услуги – Aqvanika","/services/hairdressing/haircuts":"Стрижки – Aqvanika","/services/hairdressing/coloring":"Окрашивание – Aqvanika","/services/hairdressing/styling":"Укладки – Aqvanika","/services/makeup":"Макияж – Aqvanika","/services/makeup/day":"Макияж — Дневной – Aqvanika","/services/makeup/evening":"Макияж — Вечерний – Aqvanika","/services/makeup/wedding":"Макияж — Свадебный – Aqvanika","/services/men":"Услуги для мужчин – Aqvanika","/services/men/haircut":"Для мужчин — Стрижка – Aqvanika","/services/men/massage":"Для мужчин — Массаж – Aqvanika","/services/men/manicure":"Для мужчин — Маникюр – Aqvanika"};async function p(e){let i=e;e.startsWith("/")&&a&&(i=`${a}${e}`);const s=await fetch(i);if(!s.ok)throw new Error(`HTTP ${s.status} – ${i}`);return s.text()}function L(){let e=window.location.pathname;return a&&e.startsWith(a)&&(e=e.slice(a.length)),e||"/"}async function M(e){const i=v[e]||v["/"],s=S.includes(e);document.title=P[e]||"Aqvanika";try{const t=await p(i);if(s){const m=await p("/components/partials/side-menu.html");document.querySelector("main").innerHTML=`
        <div class="page-with-sidebar">
          ${m}
          <div class="page-content">${t}</div>
        </div>`;try{const r=await b(()=>Promise.resolve().then(()=>C),void 0);r.initSideMenu?r.initSideMenu():r.default&&r.default.initSideMenu&&r.default.initSideMenu()}catch(r){console.warn("sideMenu.js not available:",r)}}else document.querySelector("main").innerHTML=t;T()}catch(t){console.error("Ошибка загрузки страницы:",t),e!=="/"&&h("/")}}function h(e){const i=e.startsWith("/")?e:"/"+e,s=a+i;window.history.pushState({},"",s),d()}function d(){M(L())}function E(e){const i=e.target.closest("a");if(!i)return;const s=new URL(i.href);s.origin!==window.location.origin||i.closest(".side-menu")||(e.preventDefault(),h(s.pathname.replace(a,"")||"/"))}function _(){if(!window.location.hostname.includes("github.io"))return!1;const e=sessionStorage.getItem("redirectPath");if(e)return console.log("Обнаружен редирект с 404 страницы:",e),sessionStorage.removeItem("redirectPath"),h(e),!0;const i=window.location.pathname;if(i.includes("/services/")&&!i.endsWith(".html")&&i!==a+"/"){const s=i.replace(a,"");return console.log("Прямой переход по ссылке:",s),h(s),!0}return!1}function T(){typeof window.initCarousels=="function"&&window.initCarousels(),typeof window.initForms=="function"&&window.initForms()}function R(){_()||(document.addEventListener("click",E),window.addEventListener("popstate",d),d())}function $(){const e=window.location.pathname.replace(a,"")||"/",i=document.querySelectorAll(".side-menu__link"),s=document.querySelector("main");i.forEach(t=>{t.getAttribute("href")===e&&t.classList.add("active"),t.removeEventListener("click",f),t.addEventListener("click",f)}),s&&(s.classList.add("with-side-menu"),x(s))}function x(e){if(document.querySelector(".side-menu")){let t=function(m){m.matches?e.classList.remove("with-side-menu"):e.classList.add("with-side-menu")};const s=window.matchMedia("(max-width: 992px)");s.addListener(t),t(s)}}function f(e){e.preventDefault();const i=this.getAttribute("href"),s=document.querySelector(".page-content");window.history.pushState({},"",i),document.querySelectorAll(".side-menu__link").forEach(t=>{t.classList.remove("active")}),this.classList.add("active"),v[i]?fetch(`${a}${v[i]}`).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.text()}).then(t=>{s&&(s.innerHTML=t)}).catch(t=>{console.error("Ошибка загрузки контента:",t),s&&(s.innerHTML="<h1>Ошибка загрузки страницы</h1>")}):(console.error("Маршрут не найден:",i),s&&(s.innerHTML="<h1>Страница не найдена</h1>"))}const C=Object.freeze(Object.defineProperty({__proto__:null,initSideMenu:$},Symbol.toStringTag,{value:"Module"}));export{R as i};
//# sourceMappingURL=sideMenu-CheO8J2r.js.map
